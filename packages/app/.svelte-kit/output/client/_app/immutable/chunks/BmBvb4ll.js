import{i as B,l as O,v as H,ab as R,a0 as F,aq as G,ar as Z,as as J,at as Q,au as W,av as X,g as m,aw as x,x as w,S as P,ax as ee,ay as se,a3 as ae,az as re,aA as te,aB as ie}from"./BruXBgQu.js";import{i as fe,b as ue,d as le,n as oe,e as ce}from"./BONUUjX4.js";import{c as _e,s as ne}from"./DxsSjY3Q.js";import{s as ve}from"./BEqcNf_7.js";function de(e,a){var s=void 0,t;B(()=>{s!==(s=a())&&(t&&(O(t),t=null),s&&(t=H(()=>{R(()=>s(e))})))})}function C(e,a,s=!1){if(e.multiple){if(a==null)return;if(!F(a))return G();for(var t of e.options)t.selected=a.includes(U(t));return}for(t of e.options){var f=U(t);if(Z(f,a)){t.selected=!0;return}}(!s||a!==void 0)&&(e.selectedIndex=-1)}function be(e){var a=new MutationObserver(()=>{C(e,e.__value)});a.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),J(()=>{a.disconnect()})}function U(e){return"__value"in e?e.__value:e.value}const k=Symbol("class"),S=Symbol("style"),Y=Symbol("is custom element"),j=Symbol("is html");function he(e){if(w){var a=!1,s=()=>{if(!a){if(a=!0,e.hasAttribute("value")){var t=e.value;E(e,"value",null),e.value=t}if(e.hasAttribute("checked")){var f=e.checked;E(e,"checked",null),e.checked=f}}};e.__on_r=s,ae(s),re()}}function ye(e,a){a?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function E(e,a,s,t){var f=q(e);w&&(f[a]=e.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&e.nodeName==="LINK")||f[a]!==(f[a]=s)&&(a==="loading"&&(e[te]=s),s==null?e.removeAttribute(a):typeof s!="string"&&z(e).includes(a)?e[a]=s:e.setAttribute(a,s))}function ge(e,a,s,t,f=!1,N=!1){if(w&&f&&e.tagName==="INPUT"){var d=e,I=d.type==="checkbox"?"defaultChecked":"defaultValue";I in s||he(d)}var b=q(e),n=b[Y],h=!b[j];let g=w&&n;g&&P(!1);var u=a||{},p=e.tagName==="OPTION";for(var v in a)v in s||(s[v]=null);s.class?s.class=_e(s.class):(t||s[k])&&(s.class=null),s[S]&&(s.style??=null);var T=z(e);for(const r in s){let i=s[r];if(p&&r==="value"&&i==null){e.value=e.__value="",u[r]=i;continue}if(r==="class"){var A=e.namespaceURI==="http://www.w3.org/1999/xhtml";ne(e,A,i,t,a?.[k],s[k]),u[r]=i,u[k]=s[k];continue}if(r==="style"){ve(e,i,a?.[S],s[S]),u[r]=i,u[S]=s[S];continue}var c=u[r];if(!(i===c&&!(i===void 0&&e.hasAttribute(r)))){u[r]=i;var M=r[0]+r[1];if(M!=="$$")if(M==="on"){const _={},y="$$"+r;let l=r.slice(2);var L=ce(l);if(fe(l)&&(l=l.slice(0,-7),_.capture=!0),!L&&c){if(i!=null)continue;e.removeEventListener(l,u[y],_),u[y]=null}if(i!=null)if(L)e[`__${l}`]=i,le([l]);else{let D=function(K){u[r].call(this,K)};u[y]=ue(l,e,D,_)}else L&&(e[`__${l}`]=void 0)}else if(r==="style")E(e,r,i);else if(r==="autofocus")ee(e,!!i);else if(!n&&(r==="__value"||r==="value"&&i!=null))e.value=e.__value=i;else if(r==="selected"&&p)ye(e,i);else{var o=r;h||(o=oe(o));var $=o==="defaultValue"||o==="defaultChecked";if(i==null&&!n&&!$)if(b[r]=null,o==="value"||o==="checked"){let _=e;const y=a===void 0;if(o==="value"){let l=_.defaultValue;_.removeAttribute(o),_.defaultValue=l,_.value=_.__value=y?l:null}else{let l=_.defaultChecked;_.removeAttribute(o),_.defaultChecked=l,_.checked=y?l:!1}}else e.removeAttribute(r);else $||T.includes(o)&&(n||typeof i!="string")?(e[o]=i,o in b&&(b[o]=se)):typeof i!="function"&&E(e,o,i)}}}return g&&P(!0),u}function Ne(e,a,s=[],t=[],f=[],N,d=!1,I=!1){X(f,s,t,b=>{var n=void 0,h={},g=e.nodeName==="SELECT",u=!1;if(B(()=>{var v=a(...b.map(m)),T=ge(e,n,v,N,d,I);u&&g&&"value"in v&&C(e,v.value);for(let c of Object.getOwnPropertySymbols(h))v[c]||O(h[c]);for(let c of Object.getOwnPropertySymbols(v)){var A=v[c];c.description===x&&(!n||A!==n[c])&&(h[c]&&O(h[c]),h[c]=H(()=>de(e,()=>A))),T[c]=A}n=T}),g){var p=e;R(()=>{C(p,n.value,!0),be(p)})}u=!0})}function q(e){return e.__attributes??={[Y]:e.nodeName.includes("-"),[j]:e.namespaceURI===Q}}var V=new Map;function z(e){var a=e.getAttribute("is")||e.nodeName,s=V.get(a);if(s)return s;V.set(a,s=[]);for(var t,f=e,N=Element.prototype;N!==f;){t=ie(f);for(var d in t)t[d].set&&s.push(d);f=W(f)}return s}export{Ne as a,E as s};
