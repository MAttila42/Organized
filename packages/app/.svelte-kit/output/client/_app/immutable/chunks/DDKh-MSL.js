const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CLEbI9k6.js","./BruXBgQu.js","./BRby3tU8.js","./BONUUjX4.js","./BKJo60Al.js","./C3mfnZMO.js","./B1Elx8Rh.js","./DxsSjY3Q.js","./BEqcNf_7.js","./BmK2dJuU.js","./BnJpvZNB.js","./RZjKwJig.js","./DgH1OoWI.js","./DIV_Juqf.js","./BgQwZvYi.js","./D_F14Qpv.js","./Cpo9UT1H.js","./zTxQI-8N.js","./aIOhx6KA.js","./BmBvb4ll.js","./CNsZg0dJ.js","./IVPmmLOL.js","./D2s9Bbvs.js","./DLTKZ0iA.js","./CorsPudY.js","./CX0ZkSES.js","./BgXA70gP.js","./DcIRvDGr.js","./0DoQAs6v.js","./CnqkZpUT.js","./DKcMoiSF.js","./BUy8gGT5.js","./BmsUdoSr.js","./HYfOqB6N.js","./B7izKJ7l.js","../assets/index.CV-KWLNP.css"])))=>i.map(i=>d[i]);
import{u as M,m as ee,s as Z,t as C,a as ye,i as F,r as Fe,e as W}from"./IzzPcZU7.js";import{t as E,a as Ue}from"./BmK2dJuU.js";import{_ as H}from"./PPVm8Dsz.js";import{g as ze}from"./CLEbI9k6.js";import{p as He}from"./BgQwZvYi.js";import{d as we,p as qe,aT as Ke,a as Ye,c as be,f as Ge,r as Se,t as Je}from"./BruXBgQu.js";import{f as ke,a as de,c as Qe,s as Xe}from"./BONUUjX4.js";import{s as Ze}from"./Cpo9UT1H.js";import et from"https://esm.sh/@unocss/preset-icons/browser";async function tt(t){let n=(await(await t("/migrations/meta/_journal.json")).json()).entries.map(c=>c.tag);n=n.sort((c,u)=>{const l=c.slice(0,4),o=u.slice(0,4);return l&&o?l.localeCompare(o):0});const r=`
    CREATE TABLE IF NOT EXISTS "__drizzle_migrations" (
            id INTEGER PRIMARY KEY AUTOINCREMENT,
            hash text NOT NULL UNIQUE,
      created_at numeric
    )
  `,{sqlite:a}=await M();await a.execute(r,[]);for(const c of n){const u=await a.select('SELECT id, hash, created_at FROM "__drizzle_migrations" ORDER BY created_at DESC');if(c&&(o=>u.find(i=>i?.hash===o))(c)===void 0){const i=await(await t(`/migrations/${c}.sql`)).text();i&&(a.execute(i,[]),a.execute('INSERT INTO "__drizzle_migrations" (hash, created_at) VALUES ($1, $2)',[c,Date.now()]))}}return Promise.resolve()}function _e({links:t=[],...e}){const s={...e,links:t},n=ee.modules.findIndex(r=>r.id===s.id);return n===-1?ee.modules.push(s):ee.modules[n]=s,s}function oe(t,...e){const s=e.map(n=>n.trim()).filter(Boolean).map(encodeURIComponent).join("/");return async n=>{const{goto:r}=await H(async()=>{const{goto:u}=await import("./CLEbI9k6.js").then(l=>l.n);return{goto:u}},__vite__mapDeps([0,1]),import.meta.url),a=s?`/module/${t}/${s}`:`/module/${t}`;let c="";if(n&&Object.keys(n).length>0){const u=new URLSearchParams;for(const[o,i]of Object.entries(n))i!=null&&u.set(o,String(i));const l=u.toString();l&&(c=`?${l}`)}await r(`${a}${c}`)}}function ds(t,e){const s=`/module/${t}`;let n=!1,r=!1;const a=()=>(He.params.rest??"").split("/")[0]===e;return{isActive:a,ensureOpen:(l,o)=>{if(a()){if(l){n=!0,r=!1;return}n||(n=!0,r=!1,o(!0));return}n=!1,r=!1},reset:()=>{r||(r=!0,ze(s,{replaceState:!0}))}}}function fs(t,e,s){return()=>{t.ensureOpen(e(),s),!e()&&t.isActive()&&t.reset()}}function st(){const t=oe("finances","record-transaction");return async e=>{const s={};if(e)for(const[n,r]of Object.entries(e)){const a=(typeof r=="string"?r:String(r)).trim();a&&(s[n]=a)}await t(s)}}const G=Z("wallets",{id:F().primaryKey({autoIncrement:!0}),name:C("name").notNull(),color:C("color").notNull().default("#2563EB"),description:C("description"),createdAt:C("created_at").notNull().default(ye`CURRENT_TIMESTAMP`)}),Y=Z("wallet_transactions",{id:F().primaryKey({autoIncrement:!0}),walletId:F("wallet_id").notNull().references(()=>G.id,{onDelete:"cascade"}),amount:Fe("amount").notNull(),description:C("description"),occurredAt:C("occurred_at").notNull().default(ye`CURRENT_TIMESTAMP`),createdAt:C("created_at").notNull().default(ye`CURRENT_TIMESTAMP`)}),nt=we({wallets:[],transactions:[],selectedWalletId:null,get selectedWallet(){if(this.selectedWalletId!=null)return this.wallets.find(t=>t.id===this.selectedWalletId)},get walletSummaries(){return this.wallets.map(t=>{const e=t.id==null?[]:this.transactions.filter(n=>n.walletId===t.id),s=rt(e);return{wallet:t,...s}})},get selectedWalletSummary(){const t=this.selectedWallet;return t?this.walletSummaries.find(e=>e.wallet.id===t.id)??{wallet:t,balance:0,income:0,expense:0,transactionCount:0}:null},get selectedTransactions(){return this.selectedWalletId==null?[]:[...this.transactions].filter(t=>t.walletId===this.selectedWalletId).sort((t,e)=>{const s=xe(t.occurredAt),n=xe(e.occurredAt);return s===n?(e.id??0)-(t.id??0):n-s})},selectWallet(t){this.selectedWalletId=t},ensureSelection(){if(this.wallets.length===0){this.selectedWalletId=null;return}(this.selectedWalletId==null||!this.wallets.some(t=>t.id===this.selectedWalletId))&&(this.selectedWalletId=this.wallets[0]?.id??null)},async loadAll(){await Promise.all([this.loadWallets(),this.loadTransactions()]),this.ensureSelection()},async loadWallets(){const{database:t}=await M();this.wallets=await t.select().from(G).all(),this.ensureSelection()},async loadTransactions(){const{database:t}=await M();this.transactions=await t.select().from(Y).all()},async addWallet(t){const{database:e}=await M();await e.insert(G).values(t),await this.loadWallets();const s=this.wallets.reduce((n,r)=>r.id==null?n:!n?.id||r.id>n.id?r:n,null);s?.id!=null&&(this.selectedWalletId=s.id)},async updateWallet(t,e){const{database:s}=await M();await s.update(G).set(e).where(W(G.id,t)),await this.loadWallets()},async removeWallet(t){const{database:e}=await M();await e.delete(Y).where(W(Y.walletId,t)),await e.delete(G).where(W(G.id,t)),await this.loadWallets(),await this.loadTransactions()},async addTransaction(t){const{database:e}=await M();await e.insert(Y).values(t),await this.loadTransactions()},async updateTransaction(t,e){const{database:s}=await M();await s.update(Y).set(e).where(W(Y.id,t)),await this.loadTransactions()},async removeTransaction(t){const{database:e}=await M();await e.delete(Y).where(W(Y.id,t)),this.transactions=this.transactions.filter(s=>s.id!==t)}});function rt(t){let e=0,s=0;for(const n of t){const r=Number(n.amount??0);Number.isFinite(r)&&(r>=0?e+=r:s+=Math.abs(r))}return{income:e,expense:s,balance:e-s,transactionCount:t.length}}function xe(t){if(!t)return 0;const e=Date.parse(t);return Number.isNaN(e)?0:e}function at(){_e({id:"finances",name:E("modules.finances.name","Finances"),description:E("modules.finances.description","Track wallets, balances, and transactions."),links:[{id:"record-transaction",name:E("modules.finances.links.recordTransaction.name","Record transaction"),description:E("modules.finances.links.recordTransaction.description","Open finances to record a transaction in a selected wallet."),moduleId:"finances",type:"shortcut",call:st(),parameters:[{id:"wallet",name:E("modules.finances.links.recordTransaction.parameters.wallet","Wallet name"),type:"string"}]},{id:"wallet-balances",name:E("modules.finances.links.walletBalances.name","Wallet balances"),description:E("modules.finances.links.walletBalances.description","Snapshot of each wallet with its current balance."),moduleId:"finances",type:"label",call:()=>H(()=>import("./BRby3tU8.js"),__vite__mapDeps([2,3,1,4,5,6,7,8,9]),import.meta.url),parameters:[]}],component:()=>H(()=>import("./BnJpvZNB.js"),__vite__mapDeps([10,3,1,11,12,4,5,6,13,7,14,0,15,16,17,18,19,8,9,20,21,22]),import.meta.url)}),nt.loadAll()}const it=Object.freeze(Object.defineProperty({__proto__:null,load:at},Symbol.toStringTag,{value:"Module"})),se=Z("shopping_list",{id:F().primaryKey({autoIncrement:!0}),name:C("name").notNull(),quantity:F("quantity"),unit:C("unit"),description:C("description")}),ot=we({items:[],async addItem(t){const{database:e}=await M();await e.insert(se).values(t),await this.loadItems()},async removeItem(t){const{database:e}=await M();await e.delete(se).where(W(se.id,t)),this.items=this.items.filter(s=>s.id!==t)},async loadItems(){const{database:t}=await M();this.items=await t.select().from(se).all()}});function lt(){_e({id:"shopping",name:E("modules.shopping.name","Shopping"),description:E("modules.shopping.description","Barebones shopping module."),links:[{id:"add-item",name:E("modules.shopping.links.addItem.name","Add Item"),description:E("modules.shopping.links.addItem.description","Jump to the shopping module and open the add item dialog."),moduleId:"shopping",type:"shortcut",call:oe("shopping","add-item"),parameters:[]},{id:"list",name:E("modules.shopping.links.list.name","Shopping List"),description:E("modules.shopping.links.list.description","List of items to buy."),moduleId:"shopping",type:"label",call:()=>H(()=>import("./DLTKZ0iA.js"),__vite__mapDeps([23,3,1,11,12,24,6,17,4,5,7,16]),import.meta.url),parameters:[]}],component:()=>H(()=>import("./CX0ZkSES.js"),__vite__mapDeps([25,3,1,4,5,13,15,16,17,18,19,7,8,9,6,20,24,26]),import.meta.url)}),ot.loadItems()}const ct=Object.freeze(Object.defineProperty({__proto__:null,load:lt},Symbol.toStringTag,{value:"Module"})),J=Z("classes",{id:F().primaryKey({autoIncrement:!0}),subject:C("subject").notNull(),shortName:C("short_name"),teacher:C("teacher"),location:C("location"),color:C().notNull().default("#FFFFFF"),day:F("day"),schedule:F("schedule")}),Q=Z("assignments",{id:F().primaryKey({autoIncrement:!0}),title:C("title").notNull(),subject:C("subject"),dueDate:C("due_date"),description:C("description"),completed:F("completed").notNull().default(0)}),X=Z("exams",{id:F().primaryKey({autoIncrement:!0}),title:C("title").notNull(),subject:C("subject"),date:C("date").notNull(),description:C("description")}),ut=we({items:[],assignments:[],exams:[],selectedDay:(()=>{const t=new Date().getDay();return t===0?6:t-1})(),setDay(t){this.selectedDay=t},nextDay(){this.selectedDay=(this.selectedDay+1)%7},prevDay(){this.selectedDay=(this.selectedDay+6)%7},get neighborDays(){return{prev:(this.selectedDay+6)%7,current:this.selectedDay,next:(this.selectedDay+1)%7}},get filteredItems(){return this.items.filter(t=>t.day==null||t.day===this.selectedDay).sort((t,e)=>(t.schedule??0)-(e.schedule??0))},async addItem(t){const{database:e}=await M();await e.insert(J).values(t),await this.loadItems()},async updateItem(t,e){const{database:s}=await M();await s.update(J).set(e).where(W(J.id,t)),await this.loadItems()},async removeItem(t){const{database:e}=await M();await e.delete(J).where(W(J.id,t)),this.items=this.items.filter(s=>s.id!==t)},async loadItems(){await Promise.all([this.loadClasses(),this.loadAssignments(),this.loadExams()])},async loadClasses(){const{database:t}=await M();this.items=await t.select().from(J).all()},async loadAssignments(){const{database:t}=await M();this.assignments=await t.select().from(Q).all()},async loadExams(){const{database:t}=await M();this.exams=await t.select().from(X).all()},async addAssignment(t){const{database:e}=await M();await e.insert(Q).values(t),await this.loadAssignments()},async updateAssignment(t,e){const{database:s}=await M();await s.update(Q).set(e).where(W(Q.id,t)),await this.loadAssignments()},async removeAssignment(t){const{database:e}=await M();await e.delete(Q).where(W(Q.id,t)),this.assignments=this.assignments.filter(s=>s.id!==t)},async setAssignmentCompletion(t,e){await this.updateAssignment(t,{completed:e?1:0})},async addExam(t){const{database:e}=await M();await e.insert(X).values(t),await this.loadExams()},async updateExam(t,e){const{database:s}=await M();await s.update(X).set(e).where(W(X.id,t)),await this.loadExams()},async removeExam(t){const{database:e}=await M();await e.delete(X).where(W(X.id,t)),this.exams=this.exams.filter(s=>s.id!==t)}});function dt(){_e({id:"study",name:E("modules.study.name","Study"),description:E("modules.study.description","Barebones study module."),links:[{id:"add-assignment",name:E("modules.study.links.addAssignment.name","Add assignment"),description:E("modules.study.links.addAssignment.description","Jump to the study module and open the add assignment dialog."),moduleId:"study",type:"shortcut",call:oe("study","add-assignment"),parameters:[]},{id:"add-exam",name:E("modules.study.links.addExam.name","Add exam"),description:E("modules.study.links.addExam.description","Jump to the study module and open the add exam dialog."),moduleId:"study",type:"shortcut",call:oe("study","add-exam"),parameters:[]},{id:"classes-today",name:E("modules.study.links.classesToday.name","Classes today"),description:E("modules.study.links.classesToday.description","List of today's classes."),moduleId:"study",type:"label",call:()=>H(()=>import("./DcIRvDGr.js"),__vite__mapDeps([27,3,1,4,5,9,28,6,17,7,8]),import.meta.url),parameters:[]},{id:"due-assignments",name:E("modules.study.links.dueAssignments.name","Due assignments"),description:E("modules.study.links.dueAssignments.description","Incomplete assignments sorted by due date."),moduleId:"study",type:"label",call:()=>H(()=>import("./CnqkZpUT.js"),__vite__mapDeps([29,3,1,4,5,9,30,6,17,19,7,8]),import.meta.url),parameters:[]},{id:"upcoming-exams",name:E("modules.study.links.upcomingExams.name","Upcoming exams"),description:E("modules.study.links.upcomingExams.description","Exams scheduled in the next week."),moduleId:"study",type:"label",call:()=>H(()=>import("./BUy8gGT5.js"),__vite__mapDeps([31,3,1,4,5,9,32,6,17,7]),import.meta.url),parameters:[]}],component:()=>H(()=>import("./HYfOqB6N.js"),__vite__mapDeps([33,3,1,11,4,5,13,19,7,8,15,16,17,18,9,6,20,21,30,26,34,35,28,32]),import.meta.url)}),ut.loadItems()}const ft=Object.freeze(Object.defineProperty({__proto__:null,load:dt},Symbol.toStringTag,{value:"Module"})),mt=Object.assign({"./finances/index.ts":it,"./shopping/index.ts":ct,"./study/index.ts":ft}),De=Object.entries(mt).map(([t,e])=>{const s=/\.\/([^/]+)\/index\.ts$/.exec(t),n=s?s[1]:t,r=e.load;return{name:n,load:r}});De.map(t=>t.load).filter(t=>!!t);async function pt(){for(const t of De)t.load&&await t.load()}const ht=!1,yt=!0;async function gt({fetch:t}){Ue(),await tt(t),await pt(),await ee.loadModuleCards(),await ee.loadShortcuts()}const ms=Object.freeze(Object.defineProperty({__proto__:null,load:gt,prerender:yt,ssr:ht},Symbol.toStringTag,{value:"Module"})),ae="default",ge="preflights",wt="shortcuts",_t="imports",vt={[_t]:-200,[ge]:-100,[wt]:-10,[ae]:0},bt=/[\\:]?[\s'"`;{}]+/g;function St(t){return t.split(bt)}const xt={name:"@unocss/core/extractor-split",order:0,extract({code:t}){return St(t)}};function D(t=[]){return Array.isArray(t)?t:[t]}function q(t){return Array.from(new Set(t))}function Ae(t,e){return t.reduce((s,n)=>(s.findIndex(a=>e(n,a))===-1&&s.push(n),s),[])}function k(t){return typeof t=="string"}class je extends Set{_map=new Map;constructor(e){if(super(),e)for(const s of e)this.add(s)}add(e){return this._map.set(e,(this._map.get(e)??0)+1),super.add(e)}delete(e){return this._map.has(e)?(this._map.delete(e),super.delete(e)):!1}clear(){this._map.clear(),super.clear()}getCount(e){return this._map.get(e)??0}setCount(e,s){return this._map.set(e,s),super.add(e)}}function fe(t){return t instanceof je}function At(t){const e=t.length;let s=-1,n,r="";const a=t.charCodeAt(0);for(;++s<e;){if(n=t.charCodeAt(s),n===0){r+="ï¿½";continue}if(n===37){r+="\\%";continue}if(n===44){r+="\\,";continue}if(n>=1&&n<=31||n===127||s===0&&n>=48&&n<=57||s===1&&n>=48&&n<=57&&a===45){r+=`\\${n.toString(16)} `;continue}if(s===0&&e===1&&n===45){r+=`\\${t.charAt(s)}`;continue}if(n>=128||n===45||n===95||n>=48&&n<=57||n>=65&&n<=90||n>=97&&n<=122){r+=t.charAt(s);continue}r+=`\\${t.charAt(s)}`}return r}const me=At;function Et(){return{events:{},emit(t,...e){(this.events[t]||[]).forEach(s=>s(...e))},on(t,e){return(this.events[t]=this.events[t]||[]).push(e),()=>this.events[t]=(this.events[t]||[]).filter(s=>s!==e)}}}function $t(t){return typeof t=="function"?{match:t}:t}function Ee(t){return t.length===3}function pe(t){return t!=null}function Mt(){}class It{_map=new Map;get(e,s){const n=this._map.get(e);if(n)return n.get(s)}getFallback(e,s,n){let r=this._map.get(e);return r||(r=new Map,this._map.set(e,r)),r.has(s)||r.set(s,n),r.get(s)}set(e,s,n){let r=this._map.get(e);return r||(r=new Map,this._map.set(e,r)),r.set(s,n),this}has(e,s){return this._map.get(e)?.has(s)}delete(e,s){return this._map.get(e)?.delete(s)||!1}deleteTop(e){return this._map.delete(e)}map(e){return Array.from(this._map.entries()).flatMap(([s,n])=>Array.from(n.entries()).map(([r,a])=>e(a,s,r)))}}class Tt extends Map{getFallback(e,s){const n=this.get(e);return n===void 0?(this.set(e,s),s):n}map(e){const s=[];return this.forEach((n,r)=>{s.push(e(n,r))}),s}flatMap(e){const s=[];return this.forEach((n,r)=>{s.push(...e(n,r))}),s}}function le(t){return k(t)?t:(Array.isArray(t)?t:Object.entries(t)).filter(e=>e[1]!=null)}function Ct(t){return Array.isArray(t)?t.find(e=>!Array.isArray(e)||Array.isArray(e[0]))?t.map(e=>le(e)):[t]:[le(t)]}function Rt(t){return t.filter(([e,s],n)=>{if(e.startsWith("$$"))return!1;for(let r=n-1;r>=0;r--)if(t[r][0]===e&&t[r][1]===s)return!1;return!0})}const Ne="__virtual_key__";function he(t){return t==null?"":Rt(t).map(([e,s])=>s!=null&&typeof s!="function"?e!==Ne?`${e}:${s};`:s:void 0).filter(Boolean).join("")}function ne(t){return t&&typeof t=="object"&&!Array.isArray(t)}function Pe(t,e,s=!1){const n=t,r=e;if(Array.isArray(r))return s&&Array.isArray(r)?[...n,...r]:[...r];const a={...n};return ne(n)&&ne(r)&&Object.keys(r).forEach(c=>{ne(n[c])&&ne(r[c])||Array.isArray(n[c])&&Array.isArray(r[c])?a[c]=Pe(n[c],r[c],s):Object.assign(a,{[c]:r[c]})}),a}function ie(t){let e,s,n;if(Array.isArray(t)){for(s=Array.from({length:e=t.length});e--;)s[e]=(n=t[e])&&typeof n=="object"?ie(n):n;return s}if(Object.prototype.toString.call(t)==="[object Object]"){s={};for(e in t)e==="__proto__"?Object.defineProperty(s,e,{value:ie(t[e]),configurable:!0,enumerable:!0,writable:!0}):s[e]=(n=t[e])&&typeof n=="object"?ie(n):n;return s}return t}function Ot(t){return k(t[0])}function Lt(t){return k(t[0])}const re={};function kt(t=["-",":"]){const e=t.join("|");return re[e]||(re[e]=new RegExp(`((?:[!@<~\\w+:_-]|\\[&?>?:?\\S*\\])+?)(${e})\\(((?:[~!<>\\w\\s:/\\\\,%#.$?-]|\\[[^\\]]*?\\])+?)\\)(?!\\s*?=>)`,"gm")),re[e].lastIndex=0,re[e]}function Dt(t,e=["-",":"],s=5){const n=kt(e);let r,a=t.toString();const c=new Set,u=new Map;do r=!1,a=a.replace(n,(o,i,d,m,y)=>{if(!e.includes(d))return o;r=!0,c.add(i+d);const x=y+i.length+d.length+1,$={length:o.length,items:[]};u.set(y,$);for(const A of[...m.matchAll(/\S+/g)]){const L=x+A.index;let v=u.get(L)?.items;v?u.delete(L):v=[{offset:L,length:A[0].length,className:A[0]}];for(const w of v)w.className=w.className==="~"?i:w.className.replace(/^(!?)(.*)/,`$1${i}${d}$2`),$.items.push(w)}return"$".repeat(o.length)}),s-=1;while(r&&s);let l;if(typeof t=="string"){l="";let o=0;for(const[i,d]of u)l+=t.slice(o,i),l+=d.items.map(m=>m.className).join(" "),o=i+d.length;l+=t.slice(o)}else{l=t;for(const[o,i]of u)l.overwrite(o,o+i.length,i.items.map(d=>d.className).join(" "))}return{prefixes:Array.from(c),hasChanged:r,groupsByOffset:u,get expanded(){return l.toString()}}}function jt(t,e=["-",":"],s=5){const n=Dt(t,e,s);return typeof t=="string"?n.expanded:t}const $e=new Set;function Nt(t){$e.has(t)||(console.warn("[unocss]",t),$e.add(t))}function We(t){return D(t).flatMap(e=>Array.isArray(e)?[e]:Object.entries(e))}const Me="_uno_resolved";async function Pt(t){let e=typeof t=="function"?await t():await t;if(Me in e)return e;e={...e},Object.defineProperty(e,Me,{value:!0,enumerable:!1});const s=e.shortcuts?We(e.shortcuts):void 0;if(e.shortcuts=s,e.prefix||e.layer){const n=r=>{r[2]||(r[2]={});const a=r[2];a.prefix==null&&e.prefix&&(a.prefix=D(e.prefix)),a.layer==null&&e.layer&&(a.layer=e.layer)};s?.forEach(n),e.rules?.forEach(n)}return e}async function Be(t){const e=await Pt(t);if(!e.presets)return[e];const s=(await Promise.all((e.presets||[]).flatMap(D).flatMap(Be))).flat();return[e,...s]}function Wt(t){if(t.length===0)return{};const e=[],s=[];let n=!1;const r=[],a=[];for(const u of t){if(u.pipeline===!1){n=!0;break}else u.pipeline?.include&&e.push(u.pipeline.include),u.pipeline?.exclude&&s.push(u.pipeline.exclude);u.filesystem&&r.push(u.filesystem),u.inline&&a.push(u.inline)}const c={pipeline:n?!1:{include:q(Te(...e)),exclude:q(Te(...s))}};return r.length&&(c.filesystem=q(r.flat())),a.length&&(c.inline=q(a.flat())),c}async function Ie(t={},e={}){const s=Object.assign({},e,t),n=Ae((await Promise.all((s.presets||[]).flatMap(D).flatMap(Be))).flat(),(f,_)=>f.name===_.name),r=[...n.filter(f=>f.enforce==="pre"),...n.filter(f=>!f.enforce),...n.filter(f=>f.enforce==="post")],a=[...r,s],c=[...a].reverse(),u=Object.assign({},vt,...a.map(f=>f.layers));function l(f){return q(a.flatMap(_=>D(_[f]||[])))}const o=l("extractors");let i=c.find(f=>f.extractorDefault!==void 0)?.extractorDefault;i===void 0&&(i=xt),i&&!o.includes(i)&&o.unshift(i),o.sort((f,_)=>(f.order||0)-(_.order||0));const d=l("rules"),m=d.length,y={},x=[];for(const[f,_]of d.entries()){const p=_[2]??(_[2]={});p.__index=f,Ot(_)?D(p.prefix??"").forEach(b=>{y[b+_[0]]=_}):x.unshift(_)}const $={templates:q(a.flatMap(f=>D(f.autocomplete?.templates))),extractors:a.flatMap(f=>D(f.autocomplete?.extractors)).sort((f,_)=>(f.order||0)-(_.order||0)),shorthands:Vt(a.map(f=>f.autocomplete?.shorthands||{}))};let A=l("separators");A.length||(A=[":","-"]);const L=l("content"),v=Wt(L),w={mergeSelectors:!0,warn:!0,sortLayers:f=>f,...s,blocklist:l("blocklist"),presets:r,envMode:s.envMode||"build",shortcutsLayer:s.shortcutsLayer||"shortcuts",layers:u,theme:Bt(a.map(f=>f.theme)),rules:d,rulesSize:m,rulesDynamic:x,rulesStaticMap:y,preprocess:l("preprocess"),postprocess:l("postprocess"),preflights:l("preflights"),autocomplete:$,variants:l("variants").map($t).sort((f,_)=>(f.order||0)-(_.order||0)),shortcuts:We(l("shortcuts")).reverse(),extractors:o,safelist:l("safelist"),separators:A,details:s.details??s.envMode==="dev",content:v,transformers:Ae(l("transformers"),(f,_)=>f.name===_.name)},O=l("extendTheme");for(const f of O)w.theme=f(w.theme,w)||w.theme;for(const f of a)f?.configResolved?.(w);return w}function Bt(t){return t.map(e=>e?ie(e):{}).reduce((e,s)=>Pe(e,s),{})}function Vt(t){return t.reduce((e,s)=>{const n={};for(const r in s){const a=s[r];Array.isArray(a)?n[r]=`(${a.join("|")})`:n[r]=a}return{...e,...n}},{})}function Te(...t){return t.flatMap(Ft)}function Ft(t){return Array.isArray(t)?t:t?[t]:[]}const Ut="66.5.4",z={shortcutsNoMerge:"$$symbol-shortcut-no-merge",noMerge:"$$symbol-no-merge",variants:"$$symbol-variants",parent:"$$symbol-parent",selector:"$$symbol-selector",layer:"$$symbol-layer",sort:"$$symbol-sort",body:"$$symbol-body"};class ve{constructor(e={},s={}){this.userConfig=e,this.defaults=s}version=Ut;events=Et();config=void 0;cache=new Map;blocked=new Set;parentOrders=new Map;activatedRules=new Set;static async create(e={},s={}){const n=new ve(e,s);return n.config=await Ie(n.userConfig,n.defaults),n.events.emit("config",n.config),n}async setConfig(e,s){e&&(s&&(this.defaults=s),this.userConfig=e,this.blocked.clear(),this.parentOrders.clear(),this.activatedRules.clear(),this.cache.clear(),this.config=await Ie(e,this.defaults),this.events.emit("config",this.config))}async applyExtractors(e,s,n=new Set){const r={original:e,code:e,id:s,extracted:n,envMode:this.config.envMode};for(const a of this.config.extractors){const c=await a.extract?.(r);if(c)if(fe(c)&&fe(n))for(const u of c)n.setCount(u,n.getCount(u)+c.getCount(u));else for(const u of c)n.add(u)}return n}makeContext(e,s){const n={rawSelector:e,currentSelector:s[1],theme:this.config.theme,generator:this,symbols:z,variantHandlers:s[2],constructCSS:(...r)=>this.constructCustomCSS(n,...r),variantMatch:s};return n}async parseToken(e,s){if(this.blocked.has(e))return;const n=`${e}${s?` ${s}`:""}`;if(this.cache.has(n))return this.cache.get(n);const r=this.config.preprocess.reduce((l,o)=>o(l)??l,e);if(this.isBlocked(r)){this.blocked.add(e),this.cache.set(n,null);return}const a=await this.matchVariants(e,r);if(a.every(l=>!l||this.isBlocked(l[1]))){this.blocked.add(e),this.cache.set(n,null);return}const c=async l=>{const o=this.makeContext(e,[s||l[0],l[1],l[2],l[3]]);this.config.details&&(o.variants=[...l[3]]);const i=await this.expandShortcut(o.currentSelector,o);return i?await this.stringifyShortcuts(o.variantMatch,o,i[0],i[1]):(await this.parseUtil(o.variantMatch,o))?.map(m=>this.stringifyUtil(m,o)).filter(pe)},u=(await Promise.all(a.map(l=>c(l)))).flat().filter(l=>!!l);if(u?.length)return this.cache.set(n,u),u;this.cache.set(n,null)}async generate(e,s={}){const{id:n,scope:r,preflights:a=!0,safelist:c=!0,minify:u=!1,extendedInfo:l=!1}=s,o=k(e)?await this.applyExtractors(e,n,l?new je:new Set):Array.isArray(e)?new Set(e):e;if(c){const p={generator:this,theme:this.config.theme};this.config.safelist.flatMap(h=>typeof h=="function"?h(p):h).forEach(h=>{const b=h.trim();b&&!o.has(b)&&o.add(b)})}const i=u?"":`
`,d=new Set([ae]),m=l?new Map:new Set,y=new Map;let x={};const $=Array.from(o).map(async p=>{if(m.has(p))return;const h=await this.parseToken(p);if(h!=null){m instanceof Map?m.set(p,{data:h,count:fe(o)?o.getCount(p):-1}):m.add(p);for(const b of h){const N=b[3]||"",P=b[4]?.layer;y.has(N)||y.set(N,[]),y.get(N).push(b),P&&d.add(P)}}});await Promise.all($),await(async()=>{if(!a)return;const p={generator:this,theme:this.config.theme},h=new Set([]);this.config.preflights.forEach(({layer:b=ge})=>{d.add(b),h.add(b)}),x=Object.fromEntries(await Promise.all(Array.from(h).map(async b=>{const P=(await Promise.all(this.config.preflights.filter(B=>(B.layer||ge)===b).map(async B=>await B.getCSS(p)))).filter(Boolean).join(i);return[b,P]})))})();const A=this.config.sortLayers(Array.from(d).sort((p,h)=>(this.config.layers[p]??0)-(this.config.layers[h]??0)||p.localeCompare(h))),L={},v=this.config.outputToCssLayers,w=p=>{let h=p;return typeof v=="object"&&(h=v.cssLayerName?.(p)),h===null?null:h??p},O=(p=ae)=>{if(L[p])return L[p];let h=Array.from(y).sort((P,B)=>(this.parentOrders.get(P[0])??0)-(this.parentOrders.get(B[0])??0)||P[0]?.localeCompare(B[0]||"")||0).map(([P,B])=>{const g=B.length,S=B.filter(T=>(T[4]?.layer||ae)===p).sort((T,V)=>T[0]-V[0]||(T[4]?.sort||0)-(V[4]?.sort||0)||T[5]?.currentSelector?.localeCompare(V[5]?.currentSelector??"")||T[1]?.localeCompare(V[1]||"")||T[2]?.localeCompare(V[2]||"")||0).map(([,T,V,,te,,ce])=>[[[(T&&qt(T,r))??"",te?.sort??0]],V,!!(ce??te?.noMerge)]);if(!S.length)return;const I=S.reverse().map(([T,V,te],ce)=>{if(!te&&this.config.mergeSelectors)for(let K=ce+1;K<g;K++){const U=S[K];if(U&&!U[2]&&(T&&U[0]||T==null&&U[0]==null)&&U[1]===V)return T&&U[0]&&U[0].push(...T),null}const ue=T?q(T.sort((K,U)=>K[1]-U[1]||K[0]?.localeCompare(U[0]||"")||0).map(K=>K[0]).filter(Boolean)):[];return ue.length?`${ue.join(`,${i}`)}{${V}}`:V}).filter(Boolean),R=Array.from(new Set(I)).reverse().join(i);if(!P)return R;const j=P.split(" $$ ");return`${j.join("{")}{${i}${R}${i}${"}".repeat(j.length)}`}).filter(Boolean).join(i);a&&(h=[x[p],h].filter(Boolean).join(i));let b;v&&h&&(b=w(p),b!==null&&(h=`@layer ${b}{${i}${h}${i}}`));const N=u?"":`/* layer: ${p}${b&&b!==p?`, alias: ${b}`:""} */${i}`;return L[p]=h?N+h:""},f=(p=A,h)=>{const b=p.filter(N=>!h?.includes(N));return[v&&b.length>0?`@layer ${b.map(w).filter(pe).join(", ")};`:void 0,...b.map(N=>O(N)||"")].filter(Boolean).join(i)};return{get css(){return f()},layers:A,matched:m,getLayers:f,getLayer:O,setLayer:async(p,h)=>{const b=await h(O(p));return L[p]=b,b}}}async matchVariants(e,s){const n={rawSelector:e,theme:this.config.theme,generator:this},r=async a=>{let c=!0;const[,,u,l]=a;for(;c;){c=!1;const o=a[1];for(const i of this.config.variants){if(!i.multiPass&&l.has(i))continue;let d=await i.match(o,n);if(d){if(k(d)){if(d===o)continue;d={matcher:d}}if(Array.isArray(d)){if(!d.length)continue;if(d.length===1)d=d[0];else{if(i.multiPass)throw new Error("multiPass can not be used together with array return variants");const m=d.map(y=>{const x=y.matcher??o,$=[y,...u],A=new Set(l);return A.add(i),[a[0],x,$,A]});return(await Promise.all(m.map(y=>r(y)))).flat()}}a[1]=d.matcher??o,u.unshift(d),l.add(i),c=!0;break}}if(!c)break;if(u.length>500)throw new Error(`Too many variants applied to "${e}"`)}return[a]};return await r([e,s||e,[],new Set])}applyVariants(e,s=e[4],n=e[1]){const a=s.slice().sort((o,i)=>(o.order||0)-(i.order||0)).reduceRight((o,i)=>d=>{const m=i.body?.(d.entries)||d.entries,y=Array.isArray(i.parent)?i.parent:[i.parent,void 0],x=i.selector?.(d.selector,m);return(i.handle??Yt)({...d,entries:m,selector:x||d.selector,parent:y[0]||d.parent,parentOrder:y[1]||d.parentOrder,layer:i.layer||d.layer,sort:i.sort||d.sort},o)},o=>o)({prefix:"",selector:Kt(n),pseudo:"",entries:e[2]}),{parent:c,parentOrder:u}=a;c!=null&&u!=null&&this.parentOrders.set(c,u);const l={selector:[a.prefix,a.selector,a.pseudo].join(""),entries:a.entries,parent:c,layer:a.layer,sort:a.sort,noMerge:a.noMerge};for(const o of this.config.postprocess)o(l);return l}constructCustomCSS(e,s,n){const r=le(s);if(k(r))return r;const{selector:a,entries:c,parent:u}=this.applyVariants([0,n||e.rawSelector,r,void 0,e.variantHandlers]),l=`${a}{${he(c)}}`;return u?`${u}{${l}}`:l}async parseUtil(e,s,n=!1,r){const a=k(e)?await this.matchVariants(e):[e],c=async([l,o,i])=>{this.config.details&&(s.rules=s.rules??[]);const d={...s,variantHandlers:i},m=this.config.rulesStaticMap[o];if(m&&m[1]&&(n||!m[2]?.internal))return this.resolveCSSResult(l,m[1],m,d);for(const y of this.config.rulesDynamic){const[x,$,A]=y;if(A?.internal&&!n)continue;let L=o;if(A?.prefix){const f=D(A.prefix);if(r){const _=D(r);if(!f.some(p=>_.includes(p)))continue}else{const _=f.find(p=>o.startsWith(p));if(_==null)continue;L=o.slice(_.length)}}const v=L.match(x);if(!v)continue;let w=await $(v,d);if(!w)continue;if(typeof w!="string")if(Symbol.asyncIterator in w){const f=[];for await(const _ of w)_&&f.push(_);w=f}else Symbol.iterator in w&&!Array.isArray(w)&&(w=Array.from(w).filter(pe));const O=this.resolveCSSResult(l,w,y,d);if(O)return O}},u=(await Promise.all(a.map(l=>c(l)))).flat().filter(l=>!!l);if(u.length)return u}resolveCSSResult=(e,s,n,r)=>{const a=Ct(s).filter(c=>c.length);if(a.length){this.config.details&&r.rules.push(n),r.generator.activatedRules.add(n);const c=n[2];return a.map(u=>{if(k(u))return[c.__index,u,c];let l=r.variantHandlers,o=c;for(const i of u)i[0]===z.variants?typeof i[1]=="function"?l=i[1](l)||l:l=[...D(i[1]),...l]:i[0]===z.parent?l=[{parent:i[1]},...l]:i[0]===z.selector?l=[{selector:i[1]},...l]:i[0]===z.layer?l=[{layer:i[1]},...l]:i[0]===z.sort?o={...o,sort:i[1]}:i[0]===z.noMerge?o={...o,noMerge:i[1]}:i[0]===z.body&&(i[0]=Ne);return[c.__index,e,u,o,l]})}};stringifyUtil(e,s){if(!e)return;if(Ee(e))return[e[0],void 0,e[1],void 0,e[2],this.config.details?s:void 0,void 0];const{selector:n,entries:r,parent:a,layer:c,sort:u,noMerge:l}=this.applyVariants(e),o=he(r);if(!o)return;const{layer:i,sort:d,...m}=e[3]??{},y={...m,layer:c??i,sort:u??d};return[e[0],n,o,a,y,this.config.details?s:void 0,l]}async expandShortcut(e,s,n=5){if(n===0)return;const r=this.config.details?o=>{s.shortcuts=s.shortcuts??[],s.shortcuts.push(o)}:Mt;let a,c,u,l;for(const o of this.config.shortcuts){let i=e;if(o[2]?.prefix){const m=D(o[2].prefix).find(y=>e.startsWith(y));if(m==null)continue;i=e.slice(m.length)}if(Lt(o)){if(o[0]===i){a=a||o[2],c=o[1],r(o);break}}else{const d=i.match(o[0]);if(d&&(c=o[1](d,s)),c){a=a||o[2],r(o);break}}}if(c&&(u=q(D(c).filter(k).map(o=>jt(o.trim()).split(/\s+/g)).flat()),l=D(c).filter(o=>!k(o)).map(o=>({handles:[],value:o}))),!c){const o=k(e)?await this.matchVariants(e):[e];for(const i of o){const[d,m,y]=i;if(d!==m){const x=await this.expandShortcut(m,s,n-1);x&&(u=x[0].filter(k).map($=>d.replace(m,$)),l=x[0].filter($=>!k($)).map($=>({handles:[...$.handles,...y],value:$.value})))}}}if(!(!u?.length&&!l?.length))return[[await Promise.all(D(u).map(async o=>(await this.expandShortcut(o,s,n-1))?.[0]||[o])),l].flat(2).filter(o=>!!o),a]}async stringifyShortcuts(e,s,n,r={layer:this.config.shortcutsLayer}){const a=new Tt,c=(await Promise.all(q(n).map(async i=>{const d=k(i)?await this.parseUtil(i,s,!0,r.prefix):[[Number.POSITIVE_INFINITY,"{inline}",le(i.value),void 0,i.handles]];return!d&&this.config.warn&&Nt(`unmatched utility "${i}" in shortcut "${e[1]}"`),d||[]}))).flat(1).filter(Boolean).sort((i,d)=>i[0]-d[0]),[u,,l]=e,o=[];for(const i of c){if(Ee(i)){o.push([i[0],void 0,i[1],void 0,i[2],s,void 0]);continue}const{selector:d,entries:m,parent:y,sort:x,noMerge:$,layer:A}=this.applyVariants(i,[...i[4],...l],u);a.getFallback(A??r.layer,new It).getFallback(d,y,[[],i[0]])[0].push([m,!!($??i[3]?.noMerge),x??0])}return o.concat(a.flatMap((i,d)=>i.map(([m,y],x,$)=>{const A=(v,w,O)=>{const f=Math.max(...O.map(p=>p[1])),_=O.map(p=>p[0]);return(v?[_.flat(1)]:_).map(p=>{const h=he(p);if(h)return[y,x,h,$,{...r,noMerge:w,sort:f,layer:d},s,void 0]})};return[[m.filter(([,v])=>v).map(([v,,w])=>[v,w]),!0],[m.filter(([,v])=>!v).map(([v,,w])=>[v,w]),!1]].map(([v,w])=>[...A(!1,w,v.filter(([O])=>O.some(f=>f[0]===z.shortcutsNoMerge))),...A(!0,w,v.filter(([O])=>O.every(f=>f[0]!==z.shortcutsNoMerge)))])}).flat(2).filter(Boolean)))}isBlocked(e){return!e||this.config.blocklist.map(s=>Array.isArray(s)?s[0]:s).some(s=>typeof s=="function"?s(e):k(s)?s===e:s.test(e))}getBlocked(e){const s=this.config.blocklist.find(n=>{const r=Array.isArray(n)?n[0]:n;return typeof r=="function"?r(e):k(r)?r===e:r.test(e)});return s?Array.isArray(s)?s:[s,void 0]:void 0}}async function zt(t,e){return await ve.create(t,e)}const Ve=/\s\$\$\s+/g;function Ht(t){return Ve.test(t)}function qt(t,e){return Ht(t)?t.replace(Ve,e?` ${e} `:" "):e?`${e} ${t}`:t}const Ce=/^\[(.+?)(~?=)"(.*)"\]$/;function Kt(t){return Ce.test(t)?t.replace(Ce,(e,s,n,r)=>`[${me(s)}${n}"${me(r)}"]`):`.${me(t)}`}function Yt(t,e){return e(t)}function Gt(t){return t.replace(/-(\w)/g,(e,s)=>s?s.toUpperCase():"")}function Re(t){return t.charAt(0).toUpperCase()+t.slice(1)}function Oe(t){return t.replace(/(?:^|\B)([A-Z])/g,"-$1").toLowerCase()}var Le=["Webkit","Moz","ms"];function Jt(t){const e={};function s(n){const r=e[n];if(r)return r;let a=Gt(n);if(a!=="filter"&&a in t)return e[n]=Oe(a);a=Re(a);for(let c=0;c<Le.length;c++){const u=`${Le[c]}${a}`;if(u in t)return e[n]=Oe(Re(u))}return n}return({entries:n})=>n.forEach(r=>{r[0].startsWith("--")||(r[0]=s(r[0]))})}function Qt(t){return t.replace(/&amp;/g,"&").replace(/&gt;/g,">").replace(/&lt;/g,"<")}async function Xt(t={}){if(typeof window>"u"){console.warn("@unocss/runtime been used in non-browser environment, skipped.");return}const e=window,s=window.document,n=()=>s.documentElement,r=e.__unocss||{},a=Object.assign({},t,r.runtime),c=a.defaults||{},u=a.cloakAttribute??"un-cloak";a.autoPrefix&&(c.postprocess=D(c.postprocess)).unshift(Jt(s.createElement("div").style)),a.configResolved?.(r,c);const l=await zt(r,c),o=g=>a.inject?a.inject(g):n().prepend(g),i=()=>a.rootElement?a.rootElement():s.body,d=new Map;let m=!0;const y=new Set;let x,$,A=[];const L=()=>new Promise(g=>{A.push(g),$!=null&&clearTimeout($),$=setTimeout(()=>O().then(()=>{const S=A;A=[],S.forEach(I=>I())}),0)});function v(g,S=!1){if(g.nodeType!==1)return;const I=g;I.hasAttribute(u)&&I.removeAttribute(u),S&&I.querySelectorAll(`[${u}]`).forEach(R=>{R.removeAttribute(u)})}function w(g,S){let I=d.get(g);if(!I)if(I=s.createElement("style"),I.setAttribute("data-unocss-runtime-layer",g),d.set(g,I),S==null)o(I);else{const R=w(S),j=R.parentNode;j?j.insertBefore(I,R.nextSibling):o(I)}return I}async function O(){const g=[...y],S=await l.generate(g);return S.layers.reduce((R,j)=>(w(j,R).innerHTML=S.getLayer(j)??"",j),void 0),g.filter(R=>!S.matched.has(R)).forEach(R=>y.delete(R)),{...S,getStyleElement:R=>d.get(R),getStyleElements:()=>d}}async function f(g){const S=y.size;await l.applyExtractors(g,void 0,y),S!==y.size&&await L()}async function _(g=i()){const S=g&&g.outerHTML;S&&(await f(`${S} ${Qt(S)}`),v(n()),v(g,!0))}const p=new MutationObserver(g=>{m||g.forEach(async S=>{if(S.target.nodeType!==1)return;const I=S.target;for(const R of d)if(I===R[1])return;if(S.type==="childList")S.addedNodes.forEach(async R=>{if(R.nodeType!==1)return;const j=R;x&&!x(j)||(await f(j.outerHTML),v(j))});else{if(x&&!x(I))return;if(S.attributeName!==u){const R=Array.from(I.attributes).map(T=>T.value?`${T.name}="${T.value}"`:T.name).join(" "),j=`<${I.tagName.toLowerCase()} ${R}>`;await f(j)}v(I)}})});let h=!1;function b(){if(h)return;const g=a.observer?.target?a.observer.target():i();g&&(p.observe(g,{childList:!0,subtree:!0,attributes:!0,attributeFilter:a.observer?.attributeFilter}),h=!0)}function N(){a.bypassDefined&&Zt(l.blocked),_(),b()}function P(){s.readyState==="loading"?e.addEventListener("DOMContentLoaded",N):N()}const B=e.__unocss_runtime=e.__unocss_runtime={version:l.version,uno:l,async extract(g){k(g)||(g.forEach(S=>y.add(S)),g=""),await f(g)},extractAll:_,inspect(g){x=g},toggleObserver(g){g===void 0?m=!m:m=!!g,!h&&!m&&P()},update:O,presets:e.__unocss_runtime?.presets??{}};a.ready?.(B)!==!1&&(m=!1,P())}function Zt(t=new Set){for(let e=0;e<document.styleSheets.length;e++){const s=document.styleSheets[e];let n;try{if(n=s.cssRules||s.rules,!n)continue;Array.from(n).flatMap(r=>r.selectorText?.split(/,/g)||[]).forEach(r=>{r&&(r=r.trim(),r.startsWith(".")&&(r=r.slice(1)),t.add(r))})}catch{continue}}return t}var es=ke("<p> </p>"),ts=ke('<div class="pt-safe"><!></div>');function ps(t,e){qe(e,!0),Xt({defaults:{presets:[et({cdn:"https://esm.sh/"})]}});var s=ts(),n=be(s);Ke(n,{pending:a=>{var c=es(),u=be(c,!0);Se(c),Je(l=>Xe(u,l),[()=>E("loading","Loading...")]),de(a,c)}},a=>{var c=Qe(),u=Ge(c);Ze(u,()=>e.children),de(a,c)}),Se(s),de(t,s),Ye()}export{ms as _,ds as a,ut as b,fs as c,ps as d,nt as f,ot as s};
