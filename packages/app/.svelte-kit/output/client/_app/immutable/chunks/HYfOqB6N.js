import{f as K,s as i,a as r,c as Fe,t as f,d as qt}from"./BONUUjX4.js";import"./RZjKwJig.js";import{p as Et,u as Ht,a as Lt,e as s,b as h,g as e,f as A,h as _,s as t,c as a,r as d,t as n,n as $,d as Jt}from"./BruXBgQu.js";import{i as Ft}from"./BKJo60Al.js";import{c as g}from"./DIV_Juqf.js";import{s as Rt}from"./BmBvb4ll.js";import{s as Ot}from"./DxsSjY3Q.js";import{S as Tt}from"./D_F14Qpv.js";import{D as It,a as nt,b as ut,c as vt,L as w,I as F,B as Qe,R as ct}from"./CNsZg0dJ.js";import{T as yt}from"./IVPmmLOL.js";import{t as l}from"./BmK2dJuU.js";import{c as Wt,a as Gt,b as Y}from"./DDKh-MSL.js";import{A as Qt}from"./DKcMoiSF.js";import{D as ft}from"./BgXA70gP.js";import{e as zt,i as Mt}from"./B1Elx8Rh.js";import{R as Bt,S as Kt,a as Vt,b as Yt}from"./B7izKJ7l.js";import{L as Ut}from"./0DoQAs6v.js";import{E as Xt}from"./BmsUdoSr.js";var Zt=K('<div class="mt-1 flex flex-row items-center gap-3 b-3 rounded-md b-dashed p-3 text-muted"><div class="i-fluent:clipboard-task-list-ltr-16-filled size-5"></div> <div> </div></div>'),er=K('<div class="flex flex-row items-center justify-center gap-1 b-3 rounded-md b-dashed p-2 text-muted"><div class="i-fluent:add-12-filled size-5"></div> <div> </div></div>'),tr=K('<!> <div class="w-full flex flex-col gap-4"><div class="flex flex-col gap-2"><!> <!></div> <div class="grid grid-cols-2 gap-3"><div class="flex flex-col gap-2"><!> <!></div> <div class="flex flex-col gap-2"><!> <!></div></div> <div class="flex flex-col gap-2"><!> <!></div> <!></div>',1),rr=K("<!> <!>",1),sr=K('<!> <div class="w-full flex flex-col gap-4"><div class="flex flex-col gap-2"><!> <!></div> <div class="grid grid-cols-2 gap-3"><div class="flex flex-col gap-2"><!> <!></div> <div class="flex flex-col gap-2"><!> <!></div></div> <div class="flex flex-col gap-2"><!> <!></div> <div class="flex flex-row items-center justify-between border border-input rounded-md px-3 py-2"><div class="flex flex-col"><span class="text-sm font-medium"> </span> <span class="text-xs text-muted"> </span></div> <button type="button"><span></span></button></div> <div class="flex flex-col gap-2"><!> <!></div></div>',1),lr=K("<!> <!> <!>",1);function ar(rt,Ye){Et(Ye,!0);const ne=_(()=>[...Y.assignments].sort((D,H)=>{const Pe=!!D.completed,Oe=!!H.completed;if(Pe!==Oe)return Pe?1:-1;const De=D.dueDate?new Date(D.dueDate).getTime():Number.POSITIVE_INFINITY,Be=H.dueDate?new Date(H.dueDate).getTime():Number.POSITIVE_INFINITY;return Number.isFinite(De)&&Number.isFinite(Be)?De-Be:Number.isFinite(De)?-1:Number.isFinite(Be)?1:(D.id??0)-(H.id??0)}));let se=h(""),le=h(""),ye=h(""),$e=h(""),be=h(!1),C=h(null),q=h(!1),X=h(""),pe=h(""),_e=h(""),me=h(""),ae=h(!1);const Te=_(()=>!!e(se).trim()),Ie=_(()=>!!e(X).trim()&&e(C)!=null),He=Gt("study","add-assignment"),$t=Wt(He,()=>e(be),D=>{s(be,D,!0)});Ht($t);function dt(){s(se,""),s(le,""),s(ye,""),s($e,"")}function st(D){s(C,D.id??null,!0),e(C)!=null&&(s(X,D.title??"",!0),s(pe,D.subject??"",!0),s(_e,D.dueDate??"",!0),s(me,D.description??"",!0),s(ae,!!D.completed,!0),s(q,!0))}function lt(){s(q,!1),s(C,null)}async function pt(){if(!e(Te))return;const D={title:e(se).trim(),subject:e(le).trim()||null,dueDate:e(ye)||null,description:e($e).trim()||null,completed:0};await Y.addAssignment(D),dt()}async function at(){!e(Ie)||e(C)==null||(await Y.updateAssignment(e(C),{title:e(X).trim(),subject:e(pe).trim()||null,dueDate:e(_e)||null,description:e(me).trim()||null,completed:e(ae)?1:0}),lt())}async function _t(){e(C)!=null&&(await Y.removeAssignment(e(C)),lt())}async function R(D,H){D.id!=null&&await Y.setAssignmentCompletion(D.id,H)}{let D=_(()=>l("study.assignments.title","Assignments")),H=_(()=>l("study.assignments.description","Track tasks and upcoming deadlines."));Tt(rt,{get title(){return e(D)},get description(){return e(H)},class:"flex flex-col gap-3",children:(Pe,Oe)=>{var De=lr(),Be=A(De);{var S=O=>{var I=Zt(),W=t(a(I),2),Ne=a(W,!0);d(W),d(I),n(de=>i(Ne,de),[()=>l("study.assignments.empty","No assignments yet. Add one.")]),r(O,I)},Ue=O=>{Qt(O,{get items(){return e(ne)},edit:st,toggleCompletion:R})};Ft(Be,O=>{e(ne).length===0?O(S):O(Ue,!1)})}var ot=t(Be,2);g(ot,()=>ct,(O,I)=>{I(O,{get open(){return e(be)},set open(W){s(be,W,!0)},children:(W,Ne)=>{var de=rr(),Ke=A(de);g(Ke,()=>It,(Se,Ae)=>{Ae(Se,{class:"w-full",children:(ze,ue)=>{var z=er(),G=t(a(z),2),j=a(G,!0);d(G),d(z),n(M=>i(j,M),[()=>l("study.assignments.add.trigger","Add Assignment")]),r(ze,z)},$$slots:{default:!0}})});var je=t(Ke,2);g(je,()=>nt,(Se,Ae)=>{Ae(Se,{children:(ze,ue)=>{var z=tr(),G=A(z);g(G,()=>ut,(o,p)=>{p(o,{children:(u,b)=>{var T=Fe(),ee=A(T);g(ee,()=>vt,(U,te)=>{te(U,{children:(V,x)=>{$();var L=f();n(N=>i(L,N),[()=>l("study.assignments.add.title","Add Assignment")]),r(V,L)},$$slots:{default:!0}})}),r(u,T)},$$slots:{default:!0}})});var j=t(G,2),M=a(j),J=a(M);w(J,{for:"title",children:(o,p)=>{$();var u=f();n(b=>i(u,b),[()=>l("study.assignments.add.titleLabel","Title")]),r(o,u)},$$slots:{default:!0}});var oe=t(J,2);{let o=_(()=>l("study.assignments.add.titlePlaceholder","Read Chapter 5"));F(oe,{id:"title",type:"text",get placeholder(){return e(o)},get value(){return e(se)},set value(p){s(se,p,!0)}})}d(M);var k=t(M,2),ve=a(k),Ee=a(ve);w(Ee,{for:"subject",children:(o,p)=>{$();var u=f();n(b=>i(u,b),[()=>l("study.assignments.add.subjectLabel","Subject")]),r(o,u)},$$slots:{default:!0}});var ce=t(Ee,2);{let o=_(()=>l("study.assignments.add.subjectPlaceholder","History"));F(ce,{id:"subject",type:"text",get placeholder(){return e(o)},get value(){return e(le)},set value(p){s(le,p,!0)}})}d(ve);var fe=t(ve,2),ge=a(fe);w(ge,{for:"dueDate",children:(o,p)=>{$();var u=f();n(b=>i(u,b),[()=>l("study.assignments.add.dueDateLabel","Due Date")]),r(o,u)},$$slots:{default:!0}});var ie=t(ge,2);F(ie,{id:"dueDate",type:"date",get value(){return e(ye)},set value(o){s(ye,o,!0)}}),d(fe),d(k);var B=t(k,2),Z=a(B);w(Z,{for:"description",children:(o,p)=>{$();var u=f();n(b=>i(u,b),[()=>l("study.assignments.add.descriptionLabel","Notes")]),r(o,u)},$$slots:{default:!0}});var Q=t(Z,2);{let o=_(()=>l("study.assignments.add.descriptionPlaceholder","Anything important to remember"));yt(Q,{id:"description",rows:4,get placeholder(){return e(o)},get value(){return e($e)},set value(p){s($e,p,!0)}})}d(B);var y=t(B,2);{let o=_(()=>!e(Te));g(y,()=>ft,(p,u)=>{u(p,{get disabled(){return e(o)},class:"w-full",children:(b,T)=>{{let ee=_(()=>!e(Te));Qe(b,{class:"w-full",get disabled(){return e(ee)},onclick:pt,children:(U,te)=>{$();var V=f();n(x=>i(V,x),[()=>l("add","Add")]),r(U,V)},$$slots:{default:!0}})}},$$slots:{default:!0}})})}d(j),r(ze,z)},$$slots:{default:!0}})}),r(W,de)},$$slots:{default:!0}})});var we=t(ot,2);g(we,()=>ct,(O,I)=>{I(O,{get open(){return e(q)},set open(W){s(q,W,!0)},children:(W,Ne)=>{var de=Fe(),Ke=A(de);g(Ke,()=>nt,(je,Se)=>{Se(je,{children:(Ae,ze)=>{var ue=sr(),z=A(ue);g(z,()=>ut,(x,L)=>{L(x,{children:(N,re)=>{var Ve=Fe(),Xe=A(Ve);g(Xe,()=>vt,(Ze,et)=>{et(Ze,{children:(We,tt)=>{$();var Ge=f();n(it=>i(Ge,it),[()=>l("study.assignments.edit.title","Edit Assignment")]),r(We,Ge)},$$slots:{default:!0}})}),r(N,Ve)},$$slots:{default:!0}})});var G=t(z,2),j=a(G),M=a(j);w(M,{for:"etitle",children:(x,L)=>{$();var N=f();n(re=>i(N,re),[()=>l("study.assignments.edit.titleLabel","Title")]),r(x,N)},$$slots:{default:!0}});var J=t(M,2);F(J,{id:"etitle",type:"text",get value(){return e(X)},set value(x){s(X,x,!0)}}),d(j);var oe=t(j,2),k=a(oe),ve=a(k);w(ve,{for:"esubject",children:(x,L)=>{$();var N=f();n(re=>i(N,re),[()=>l("study.assignments.edit.subjectLabel","Subject")]),r(x,N)},$$slots:{default:!0}});var Ee=t(ve,2);F(Ee,{id:"esubject",type:"text",get value(){return e(pe)},set value(x){s(pe,x,!0)}}),d(k);var ce=t(k,2),fe=a(ce);w(fe,{for:"edueDate",children:(x,L)=>{$();var N=f();n(re=>i(N,re),[()=>l("study.assignments.edit.dueDateLabel","Due Date")]),r(x,N)},$$slots:{default:!0}});var ge=t(fe,2);F(ge,{id:"edueDate",type:"date",get value(){return e(_e)},set value(x){s(_e,x,!0)}}),d(ce),d(oe);var ie=t(oe,2),B=a(ie);w(B,{for:"edescription",children:(x,L)=>{$();var N=f();n(re=>i(N,re),[()=>l("study.assignments.edit.descriptionLabel","Notes")]),r(x,N)},$$slots:{default:!0}});var Z=t(B,2);yt(Z,{id:"edescription",rows:4,get value(){return e(me)},set value(x){s(me,x,!0)}}),d(ie);var Q=t(ie,2),y=a(Q),o=a(y),p=a(o,!0);d(o);var u=t(o,2),b=a(u,!0);d(u),d(y);var T=t(y,2);T.__click=()=>s(ae,!e(ae));var ee=a(T);d(T),d(Q);var U=t(Q,2),te=a(U);{let x=_(()=>!e(Ie));g(te,()=>ft,(L,N)=>{N(L,{get disabled(){return e(x)},children:(re,Ve)=>{{let Xe=_(()=>!e(Ie));Qe(re,{class:"w-full",get disabled(){return e(Xe)},onclick:at,children:(Ze,et)=>{$();var We=f();n(tt=>i(We,tt),[()=>l("save","Save")]),r(Ze,We)},$$slots:{default:!0}})}},$$slots:{default:!0}})})}var V=t(te,2);Qe(V,{variant:"destructive",onclick:_t,children:(x,L)=>{$();var N=f();n(re=>i(N,re),[()=>l("delete","Delete")]),r(x,N)},$$slots:{default:!0}}),d(U),d(G),n((x,L,N)=>{i(p,x),i(b,L),Ot(T,1,`flex h-6 w-10 items-center rounded-full transition-colors ${e(ae)?"bg-primary":"bg-muted"}`),Rt(T,"aria-label",N),Rt(T,"aria-pressed",e(ae)),Ot(ee,1,`mx-1 size-4 rounded-full bg-background transition-transform ${e(ae)?"translate-x-4":""}`)},[()=>l("study.assignments.edit.completedLabel","Completed"),()=>l("study.assignments.edit.completedHint","Toggle when the assignment is done."),()=>l("study.assignments.edit.completedAria","Assignment completion status")]),r(Ae,ue)},$$slots:{default:!0}})}),r(W,de)},$$slots:{default:!0}})}),r(Pe,De)},$$slots:{default:!0}})}Lt()}qt(["click"]);var dr=K('<div class="mt-1 flex flex-row items-center gap-3 b-3 rounded-md b-dashed p-3 text-muted"><div class="i-fluent:book-open-16-filled size-5"></div> <div> </div></div>'),or=K('<div class="flex flex-row items-center justify-center gap-1 b-3 rounded-md b-dashed p-2 text-muted"><div class="i-fluent:add-12-filled size-5"></div> <div> </div></div>'),ir=K("<!> <!>",1),nr=K('<!> <div class="w-full flex flex-col gap-4"><div class="flex flex-col gap-2"><!> <!></div> <div class="grid grid-cols-2 gap-3"><div class="flex flex-col gap-2"><!> <!></div> <div class="flex flex-col gap-2"><!> <!></div></div> <div class="grid grid-cols-3 gap-3"><div class="flex flex-col gap-2"><!> <!></div> <div class="flex flex-col gap-2"><!> <!></div> <div class="flex flex-col gap-2"><!> <!></div></div> <div class="flex flex-col gap-2"><!> <!></div> <!></div>',1),ur=K("<!> <!>",1),vr=K("<!> <!>",1),cr=K('<!> <div class="w-full flex flex-col gap-4"><div class="flex flex-col gap-2"><!> <!></div> <div class="grid grid-cols-2 gap-3"><div class="flex flex-col gap-2"><!> <!></div> <div class="flex flex-col gap-2"><!> <!></div></div> <div class="grid grid-cols-3 gap-3"><div class="flex flex-col gap-2"><!> <!></div> <div class="flex flex-col gap-2"><!> <!></div> <div class="flex flex-col gap-2"><!> <!></div></div> <div class="flex flex-col gap-2"><!> <!></div> <div class="flex flex-col gap-2"><!> <!></div></div>',1),fr=K('<div class="flex flex-row items-center justify-center gap-4"><button class="b-1 rounded-md bg-background px-3 py-1 text-sm text-muted hover:b-primary"> </button> <button class="b-2 rounded-md bg-primary px-3 py-1 text-sm text-primary-foreground" aria-current="true"> </button> <button class="b-1 rounded-md bg-background px-3 py-1 text-sm text-muted hover:b-primary"> </button></div> <!> <!> <!>',1);function $r(rt,Ye){Et(Ye,!0);const ne=[l("days.short.monday","Mon"),l("days.short.tuesday","Tue"),l("days.short.wednesday","Wed"),l("days.short.thursday","Thu"),l("days.short.friday","Fri"),l("days.short.saturday","Sat"),l("days.short.sunday","Sun")];let se=h(""),le=h(""),ye=h(""),$e=h(""),be=h("#ffffff"),C=h(Jt(String(Y.selectedDay))),q=h(""),X=h(null),pe=h(!1),_e=h(""),me=h(""),ae=h(""),Te=h(""),Ie=h("#ffffff"),qe=h(""),He=h("");function $t(S){s(X,S.id,!0),s(_e,S.subject??"",!0),s(me,S.shortName??"",!0),s(ae,S.teacher??"",!0),s(Te,S.location??"",!0),s(Ie,S.color??"#ffffff",!0),s(qe,S.day==null?"":String(S.day),!0),s(He,S.schedule==null?"":String(S.schedule+1),!0),s(pe,!0)}function dt(){s(pe,!1),s(X,null)}const st=_(()=>!!e(_e).trim()&&e(X)!=null);async function lt(){if(!e(st)||e(X)==null)return;const S=e(He)?Number(e(He))-1:null;await Y.updateItem(e(X),{subject:e(_e).trim(),shortName:e(me).trim()||null,teacher:e(ae).trim()||null,location:e(Te).trim()||null,color:e(Ie).trim()||"#FFFFFF",day:e(qe)===""?null:Number(e(qe)),schedule:S!=null&&Number.isFinite(S)?S:null}),dt()}async function pt(){e(X)!=null&&(await Y.removeItem(e(X)),dt())}const at=_(()=>!!e(se).trim());function _t(){s(se,""),s(le,""),s(ye,""),s($e,""),s(be,"#ffffff"),s(C,String(Y.selectedDay),!0),s(q,"")}async function R(){if(!e(at))return;const S=e(q)?Number(e(q))-1:null,Ue={subject:e(se).trim(),shortName:e(le).trim()||null,teacher:e(ye).trim()||null,location:e($e).trim()||null,color:e(be).trim()||"#FFFFFF",day:e(C)===""?null:Number(e(C)),schedule:S!=null&&Number.isFinite(S)?S:null};await Y.addItem(Ue),_t()}function D(S){Y.setDay(S),s(C,String(S),!0)}const H=_(()=>Y.neighborDays.prev),Pe=_(()=>Y.neighborDays.current),Oe=_(()=>Y.neighborDays.next),De=_(()=>ne[Number(e(C))]??l("study.classes.form.dayPlaceholder","Day")),Be=_(()=>e(qe)===""?l("study.classes.form.noDay","No day"):ne[Number(e(qe))]);{let S=_(()=>l("study.classes.title","Classes")),Ue=_(()=>l("study.classes.description","Manage your class schedule."));Tt(rt,{get title(){return e(S)},get description(){return e(Ue)},class:"flex flex-col gap-3",children:(ot,we)=>{var O=fr(),I=A(O),W=a(I);W.__click=()=>D(e(H));var Ne=a(W,!0);d(W);var de=t(W,2);de.__click=()=>D(e(Pe));var Ke=a(de,!0);d(de);var je=t(de,2);je.__click=()=>D(e(Oe));var Se=a(je,!0);d(je),d(I);var Ae=t(I,2);{var ze=j=>{var M=dr(),J=t(a(M),2),oe=a(J,!0);d(J),d(M),n(k=>i(oe,k),[()=>l("study.classes.empty","No classes for this day. Add one.")]),r(j,M)},ue=j=>{Ut(j,{get items(){return Y.filteredItems},variant:"default",edit:$t})};Ft(Ae,j=>{Y.filteredItems.length===0?j(ze):j(ue,!1)})}var z=t(Ae,2);g(z,()=>ct,(j,M)=>{M(j,{children:(J,oe)=>{var k=ur(),ve=A(k);g(ve,()=>It,(ce,fe)=>{fe(ce,{class:"w-full",children:(ge,ie)=>{var B=or(),Z=t(a(B),2),Q=a(Z,!0);d(Z),d(B),n(y=>i(Q,y),[()=>l("study.classes.add.trigger","Add Class")]),r(ge,B)},$$slots:{default:!0}})});var Ee=t(ve,2);g(Ee,()=>nt,(ce,fe)=>{fe(ce,{children:(ge,ie)=>{var B=nr(),Z=A(B);g(Z,()=>ut,(P,v)=>{v(P,{children:(m,c)=>{var E=Fe(),Le=A(E);g(Le,()=>vt,(ke,Ce)=>{Ce(ke,{children:(xe,he)=>{$();var Me=f();n(Re=>i(Me,Re),[()=>l("study.classes.add.title","Add Class")]),r(xe,Me)},$$slots:{default:!0}})}),r(m,E)},$$slots:{default:!0}})});var Q=t(Z,2),y=a(Q),o=a(y);w(o,{for:"subject",children:(P,v)=>{$();var m=f();n(c=>i(m,c),[()=>l("study.classes.add.subjectLabel","Subject")]),r(P,m)},$$slots:{default:!0}});var p=t(o,2);{let P=_(()=>l("study.classes.add.subjectPlaceholder","Mathematics"));F(p,{id:"subject",type:"text",get placeholder(){return e(P)},get value(){return e(se)},set value(v){s(se,v,!0)}})}d(y);var u=t(y,2),b=a(u),T=a(b);w(T,{for:"short",children:(P,v)=>{$();var m=f();n(c=>i(m,c),[()=>l("study.classes.add.shortLabel","Short")]),r(P,m)},$$slots:{default:!0}});var ee=t(T,2);{let P=_(()=>l("study.classes.add.shortPlaceholder","Math"));F(ee,{id:"short",type:"text",get placeholder(){return e(P)},get value(){return e(le)},set value(v){s(le,v,!0)}})}d(b);var U=t(b,2),te=a(U);w(te,{for:"teacher",children:(P,v)=>{$();var m=f();n(c=>i(m,c),[()=>l("study.classes.add.teacherLabel","Teacher")]),r(P,m)},$$slots:{default:!0}});var V=t(te,2);{let P=_(()=>l("study.classes.add.teacherPlaceholder","Mr. Smith"));F(V,{id:"teacher",type:"text",get placeholder(){return e(P)},get value(){return e(ye)},set value(v){s(ye,v,!0)}})}d(U),d(u);var x=t(u,2),L=a(x),N=a(L);w(N,{for:"location",children:(P,v)=>{$();var m=f();n(c=>i(m,c),[()=>l("study.classes.add.locationLabel","Location")]),r(P,m)},$$slots:{default:!0}});var re=t(N,2);{let P=_(()=>l("study.classes.add.locationPlaceholder","Room 101"));F(re,{id:"location",type:"text",get placeholder(){return e(P)},get value(){return e($e)},set value(v){s($e,v,!0)}})}d(L);var Ve=t(L,2),Xe=a(Ve);w(Xe,{for:"color",children:(P,v)=>{$();var m=f();n(c=>i(m,c),[()=>l("color","Color")]),r(P,m)},$$slots:{default:!0}});var Ze=t(Xe,2);F(Ze,{id:"color",type:"color",get value(){return e(be)},set value(P){s(be,P,!0)}}),d(Ve);var et=t(Ve,2),We=a(et);w(We,{for:"day",children:(P,v)=>{$();var m=f();n(c=>i(m,c),[()=>l("study.classes.add.dayLabel","Day")]),r(P,m)},$$slots:{default:!0}});var tt=t(We,2);g(tt,()=>Bt,(P,v)=>{v(P,{type:"single",get value(){return e(C)},set value(m){s(C,m,!0)},children:(m,c)=>{var E=ir(),Le=A(E);g(Le,()=>Kt,(Ce,xe)=>{xe(Ce,{id:"day",class:"w-full",children:(he,Me)=>{$();var Re=f();n(()=>i(Re,e(De))),r(he,Re)},$$slots:{default:!0}})});var ke=t(Le,2);g(ke,()=>Vt,(Ce,xe)=>{xe(Ce,{children:(he,Me)=>{var Re=Fe(),Je=A(Re);zt(Je,17,()=>ne,Mt,(bt,Pt,Dt)=>{var xt=Fe(),ht=A(xt);{let wt=_(()=>String(Dt));g(ht,()=>Yt,(Nt,jt)=>{jt(Nt,{get value(){return e(wt)},children:(St,kt)=>{$();var At=f();n(()=>i(At,e(Pt))),r(St,At)},$$slots:{default:!0}})})}r(bt,xt)}),r(he,Re)},$$slots:{default:!0}})}),r(m,E)},$$slots:{default:!0}})}),d(et),d(x);var Ge=t(x,2),it=a(Ge);w(it,{for:"schedule",children:(P,v)=>{$();var m=f();n(c=>i(m,c),[()=>l("study.classes.add.periodLabel","Period (1..)")]),r(P,m)},$$slots:{default:!0}});var mt=t(it,2);{let P=_(()=>l("study.classes.add.periodPlaceholder","1"));F(mt,{id:"schedule",type:"number",get placeholder(){return e(P)},get value(){return e(q)},set value(v){s(q,v,!0)}})}d(Ge);var gt=t(Ge,2);{let P=_(()=>!e(at));g(gt,()=>ft,(v,m)=>{m(v,{get disabled(){return e(P)},class:"w-full",children:(c,E)=>{{let Le=_(()=>!e(at));Qe(c,{class:"w-full",get disabled(){return e(Le)},onclick:R,children:(ke,Ce)=>{$();var xe=f();n(he=>i(xe,he),[()=>l("add","Add")]),r(ke,xe)},$$slots:{default:!0}})}},$$slots:{default:!0}})})}d(Q),r(ge,B)},$$slots:{default:!0}})}),r(J,k)},$$slots:{default:!0}})});var G=t(z,2);g(G,()=>ct,(j,M)=>{M(j,{get open(){return e(pe)},set open(J){s(pe,J,!0)},children:(J,oe)=>{var k=Fe(),ve=A(k);g(ve,()=>nt,(Ee,ce)=>{ce(Ee,{children:(fe,ge)=>{var ie=cr(),B=A(ie);g(B,()=>ut,(v,m)=>{m(v,{children:(c,E)=>{var Le=Fe(),ke=A(Le);g(ke,()=>vt,(Ce,xe)=>{xe(Ce,{children:(he,Me)=>{$();var Re=f();n(Je=>i(Re,Je),[()=>l("study.classes.edit.title","Edit Class")]),r(he,Re)},$$slots:{default:!0}})}),r(c,Le)},$$slots:{default:!0}})});var Z=t(B,2),Q=a(Z),y=a(Q);w(y,{for:"esubject",children:(v,m)=>{$();var c=f();n(E=>i(c,E),[()=>l("study.classes.edit.subjectLabel","Subject")]),r(v,c)},$$slots:{default:!0}});var o=t(y,2);F(o,{id:"esubject",type:"text",get value(){return e(_e)},set value(v){s(_e,v,!0)}}),d(Q);var p=t(Q,2),u=a(p),b=a(u);w(b,{for:"eshort",children:(v,m)=>{$();var c=f();n(E=>i(c,E),[()=>l("study.classes.edit.shortLabel","Short")]),r(v,c)},$$slots:{default:!0}});var T=t(b,2);F(T,{id:"eshort",type:"text",get value(){return e(me)},set value(v){s(me,v,!0)}}),d(u);var ee=t(u,2),U=a(ee);w(U,{for:"eteacher",children:(v,m)=>{$();var c=f();n(E=>i(c,E),[()=>l("study.classes.edit.teacherLabel","Teacher")]),r(v,c)},$$slots:{default:!0}});var te=t(U,2);F(te,{id:"eteacher",type:"text",get value(){return e(ae)},set value(v){s(ae,v,!0)}}),d(ee),d(p);var V=t(p,2),x=a(V),L=a(x);w(L,{for:"elocation",children:(v,m)=>{$();var c=f();n(E=>i(c,E),[()=>l("study.classes.edit.locationLabel","Location")]),r(v,c)},$$slots:{default:!0}});var N=t(L,2);F(N,{id:"elocation",type:"text",get value(){return e(Te)},set value(v){s(Te,v,!0)}}),d(x);var re=t(x,2),Ve=a(re);w(Ve,{for:"ecolor",children:(v,m)=>{$();var c=f();n(E=>i(c,E),[()=>l("color","Color")]),r(v,c)},$$slots:{default:!0}});var Xe=t(Ve,2);F(Xe,{id:"ecolor",type:"color",get value(){return e(Ie)},set value(v){s(Ie,v,!0)}}),d(re);var Ze=t(re,2),et=a(Ze);w(et,{for:"eday",children:(v,m)=>{$();var c=f();n(E=>i(c,E),[()=>l("study.classes.edit.dayLabel","Day")]),r(v,c)},$$slots:{default:!0}});var We=t(et,2);g(We,()=>Bt,(v,m)=>{m(v,{type:"single",get value(){return e(qe)},set value(c){s(qe,c,!0)},children:(c,E)=>{var Le=vr(),ke=A(Le);g(ke,()=>Kt,(xe,he)=>{he(xe,{id:"eday",class:"w-full",children:(Me,Re)=>{$();var Je=f();n(()=>i(Je,e(Be))),r(Me,Je)},$$slots:{default:!0}})});var Ce=t(ke,2);g(Ce,()=>Vt,(xe,he)=>{he(xe,{children:(Me,Re)=>{var Je=Fe(),bt=A(Je);zt(bt,17,()=>ne,Mt,(Pt,Dt,xt)=>{var ht=Fe(),wt=A(ht);{let Nt=_(()=>String(xt));g(wt,()=>Yt,(jt,St)=>{St(jt,{get value(){return e(Nt)},children:(kt,At)=>{$();var Ct=f();n(()=>i(Ct,e(Dt))),r(kt,Ct)},$$slots:{default:!0}})})}r(Pt,ht)}),r(Me,Je)},$$slots:{default:!0}})}),r(c,Le)},$$slots:{default:!0}})}),d(Ze),d(V);var tt=t(V,2),Ge=a(tt);w(Ge,{for:"eschedule",children:(v,m)=>{$();var c=f();n(E=>i(c,E),[()=>l("study.classes.edit.periodLabel","Period (1..)")]),r(v,c)},$$slots:{default:!0}});var it=t(Ge,2);F(it,{id:"eschedule",type:"number",get value(){return e(He)},set value(v){s(He,v,!0)}}),d(tt);var mt=t(tt,2),gt=a(mt);{let v=_(()=>!e(st));g(gt,()=>ft,(m,c)=>{c(m,{get disabled(){return e(v)},children:(E,Le)=>{{let ke=_(()=>!e(st));Qe(E,{class:"w-full",get disabled(){return e(ke)},onclick:lt,children:(Ce,xe)=>{$();var he=f();n(Me=>i(he,Me),[()=>l("save","Save")]),r(Ce,he)},$$slots:{default:!0}})}},$$slots:{default:!0}})})}var P=t(gt,2);Qe(P,{variant:"destructive",onclick:pt,children:(v,m)=>{$();var c=f();n(E=>i(c,E),[()=>l("delete","Delete")]),r(v,c)},$$slots:{default:!0}}),d(mt),d(Z),r(fe,ie)},$$slots:{default:!0}})}),r(J,k)},$$slots:{default:!0}})}),n(()=>{i(Ne,ne[e(H)]),i(Ke,ne[e(Pe)]),i(Se,ne[e(Oe)])}),r(ot,O)},$$slots:{default:!0}})}Lt()}qt(["click"]);var pr=K('<div class="mt-1 flex flex-row items-center gap-3 b-3 rounded-md b-dashed p-3 text-muted"><div class="i-fluent:calendar-ltr-16-filled size-5"></div> <div> </div></div>'),_r=K('<div class="flex flex-row items-center justify-center gap-1 b-3 rounded-md b-dashed p-2 text-muted"><div class="i-fluent:add-12-filled size-5"></div> <div> </div></div>'),mr=K('<!> <div class="w-full flex flex-col gap-4"><div class="flex flex-col gap-2"><!> <!></div> <div class="grid grid-cols-2 gap-3"><div class="flex flex-col gap-2"><!> <!></div> <div class="flex flex-col gap-2"><!> <!></div></div> <div class="flex flex-col gap-2"><!> <!></div> <!></div>',1),gr=K("<!> <!>",1),xr=K('<!> <div class="w-full flex flex-col gap-4"><div class="flex flex-col gap-2"><!> <!></div> <div class="grid grid-cols-2 gap-3"><div class="flex flex-col gap-2"><!> <!></div> <div class="flex flex-col gap-2"><!> <!></div></div> <div class="flex flex-col gap-2"><!> <!></div> <div class="flex flex-col gap-2"><!> <!></div></div>',1),hr=K("<!> <!> <!>",1);function yr(rt,Ye){Et(Ye,!0);function ne(R){if(!R)return Number.POSITIVE_INFINITY;const D=new Date(R).getTime();return Number.isNaN(D)?Number.POSITIVE_INFINITY:D}const se=_(()=>[...Y.exams].sort((R,D)=>{const H=ne(R.date),Pe=ne(D.date),Oe=Number.isFinite(H)&&H<Date.now(),De=Number.isFinite(Pe)&&Pe<Date.now();return Oe!==De?Oe?1:-1:Number.isFinite(H)&&Number.isFinite(Pe)?H-Pe:Number.isFinite(H)?-1:Number.isFinite(Pe)?1:(R.id??0)-(D.id??0)}));let le=h(""),ye=h(""),$e=h(""),be=h(""),C=h(!1),q=h(null),X=h(!1),pe=h(""),_e=h(""),me=h(""),ae=h("");const Te=_(()=>!!e(le).trim()&&!!e($e)),Ie=_(()=>!!e(pe).trim()&&!!e(me)&&e(q)!=null),He=Gt("study","add-exam"),$t=Wt(He,()=>e(C),R=>{s(C,R,!0)});Ht($t);function dt(){s(le,""),s(ye,""),s($e,""),s(be,"")}function st(R){s(q,R.id??null,!0),e(q)!=null&&(s(pe,R.title??"",!0),s(_e,R.subject??"",!0),s(me,R.date??"",!0),s(ae,R.description??"",!0),s(X,!0))}function lt(){s(X,!1),s(q,null)}async function pt(){if(!e(Te))return;const R={title:e(le).trim(),subject:e(ye).trim()||null,date:e($e),description:e(be).trim()||null};await Y.addExam(R),dt()}async function at(){!e(Ie)||e(q)==null||(await Y.updateExam(e(q),{title:e(pe).trim(),subject:e(_e).trim()||null,date:e(me),description:e(ae).trim()||null}),lt())}async function _t(){e(q)!=null&&(await Y.removeExam(e(q)),lt())}{let R=_(()=>l("study.exams.title","Exams")),D=_(()=>l("study.exams.description","Keep track of upcoming exams."));Tt(rt,{get title(){return e(R)},get description(){return e(D)},class:"flex flex-col gap-3",children:(H,Pe)=>{var Oe=hr(),De=A(Oe);{var Be=we=>{var O=pr(),I=t(a(O),2),W=a(I,!0);d(I),d(O),n(Ne=>i(W,Ne),[()=>l("study.exams.empty","No exams yet. Add one.")]),r(we,O)},S=we=>{Xt(we,{get items(){return e(se)},edit:st})};Ft(De,we=>{e(se).length===0?we(Be):we(S,!1)})}var Ue=t(De,2);g(Ue,()=>ct,(we,O)=>{O(we,{get open(){return e(C)},set open(I){s(C,I,!0)},children:(I,W)=>{var Ne=gr(),de=A(Ne);g(de,()=>It,(je,Se)=>{Se(je,{class:"w-full",children:(Ae,ze)=>{var ue=_r(),z=t(a(ue),2),G=a(z,!0);d(z),d(ue),n(j=>i(G,j),[()=>l("study.exams.add.trigger","Add Exam")]),r(Ae,ue)},$$slots:{default:!0}})});var Ke=t(de,2);g(Ke,()=>nt,(je,Se)=>{Se(je,{children:(Ae,ze)=>{var ue=mr(),z=A(ue);g(z,()=>ut,(y,o)=>{o(y,{children:(p,u)=>{var b=Fe(),T=A(b);g(T,()=>vt,(ee,U)=>{U(ee,{children:(te,V)=>{$();var x=f();n(L=>i(x,L),[()=>l("study.exams.add.title","Add Exam")]),r(te,x)},$$slots:{default:!0}})}),r(p,b)},$$slots:{default:!0}})});var G=t(z,2),j=a(G),M=a(j);w(M,{for:"title",children:(y,o)=>{$();var p=f();n(u=>i(p,u),[()=>l("study.exams.add.titleLabel","Title")]),r(y,p)},$$slots:{default:!0}});var J=t(M,2);{let y=_(()=>l("study.exams.add.titlePlaceholder","Midterm 1"));F(J,{id:"title",type:"text",get placeholder(){return e(y)},get value(){return e(le)},set value(o){s(le,o,!0)}})}d(j);var oe=t(j,2),k=a(oe),ve=a(k);w(ve,{for:"subject",children:(y,o)=>{$();var p=f();n(u=>i(p,u),[()=>l("study.exams.add.subjectLabel","Subject")]),r(y,p)},$$slots:{default:!0}});var Ee=t(ve,2);{let y=_(()=>l("study.exams.add.subjectPlaceholder","Physics"));F(Ee,{id:"subject",type:"text",get placeholder(){return e(y)},get value(){return e(ye)},set value(o){s(ye,o,!0)}})}d(k);var ce=t(k,2),fe=a(ce);w(fe,{for:"date",children:(y,o)=>{$();var p=f();n(u=>i(p,u),[()=>l("date","Date")]),r(y,p)},$$slots:{default:!0}});var ge=t(fe,2);F(ge,{id:"date",type:"date",required:!0,get value(){return e($e)},set value(y){s($e,y,!0)}}),d(ce),d(oe);var ie=t(oe,2),B=a(ie);w(B,{for:"description",children:(y,o)=>{$();var p=f();n(u=>i(p,u),[()=>l("study.exams.add.descriptionLabel","Notes")]),r(y,p)},$$slots:{default:!0}});var Z=t(B,2);{let y=_(()=>l("study.exams.add.descriptionPlaceholder","Topics, room, anything important"));yt(Z,{id:"description",rows:4,get placeholder(){return e(y)},get value(){return e(be)},set value(o){s(be,o,!0)}})}d(ie);var Q=t(ie,2);{let y=_(()=>!e(Te));g(Q,()=>ft,(o,p)=>{p(o,{get disabled(){return e(y)},class:"w-full",children:(u,b)=>{{let T=_(()=>!e(Te));Qe(u,{class:"w-full",get disabled(){return e(T)},onclick:pt,children:(ee,U)=>{$();var te=f();n(V=>i(te,V),[()=>l("add","Add")]),r(ee,te)},$$slots:{default:!0}})}},$$slots:{default:!0}})})}d(G),r(Ae,ue)},$$slots:{default:!0}})}),r(I,Ne)},$$slots:{default:!0}})});var ot=t(Ue,2);g(ot,()=>ct,(we,O)=>{O(we,{get open(){return e(X)},set open(I){s(X,I,!0)},children:(I,W)=>{var Ne=Fe(),de=A(Ne);g(de,()=>nt,(Ke,je)=>{je(Ke,{children:(Se,Ae)=>{var ze=xr(),ue=A(ze);g(ue,()=>ut,(o,p)=>{p(o,{children:(u,b)=>{var T=Fe(),ee=A(T);g(ee,()=>vt,(U,te)=>{te(U,{children:(V,x)=>{$();var L=f();n(N=>i(L,N),[()=>l("study.exams.edit.title","Edit Exam")]),r(V,L)},$$slots:{default:!0}})}),r(u,T)},$$slots:{default:!0}})});var z=t(ue,2),G=a(z),j=a(G);w(j,{for:"etitle",children:(o,p)=>{$();var u=f();n(b=>i(u,b),[()=>l("study.exams.edit.titleLabel","Title")]),r(o,u)},$$slots:{default:!0}});var M=t(j,2);F(M,{id:"etitle",type:"text",get value(){return e(pe)},set value(o){s(pe,o,!0)}}),d(G);var J=t(G,2),oe=a(J),k=a(oe);w(k,{for:"esubject",children:(o,p)=>{$();var u=f();n(b=>i(u,b),[()=>l("study.exams.edit.subjectLabel","Subject")]),r(o,u)},$$slots:{default:!0}});var ve=t(k,2);F(ve,{id:"esubject",type:"text",get value(){return e(_e)},set value(o){s(_e,o,!0)}}),d(oe);var Ee=t(oe,2),ce=a(Ee);w(ce,{for:"edate",children:(o,p)=>{$();var u=f();n(b=>i(u,b),[()=>l("date","Date")]),r(o,u)},$$slots:{default:!0}});var fe=t(ce,2);F(fe,{id:"edate",type:"date",required:!0,get value(){return e(me)},set value(o){s(me,o,!0)}}),d(Ee),d(J);var ge=t(J,2),ie=a(ge);w(ie,{for:"edescription",children:(o,p)=>{$();var u=f();n(b=>i(u,b),[()=>l("study.exams.edit.descriptionLabel","Notes")]),r(o,u)},$$slots:{default:!0}});var B=t(ie,2);yt(B,{id:"edescription",rows:4,get value(){return e(ae)},set value(o){s(ae,o,!0)}}),d(ge);var Z=t(ge,2),Q=a(Z);{let o=_(()=>!e(Ie));g(Q,()=>ft,(p,u)=>{u(p,{get disabled(){return e(o)},children:(b,T)=>{{let ee=_(()=>!e(Ie));Qe(b,{get disabled(){return e(ee)},onclick:at,children:(U,te)=>{$();var V=f();n(x=>i(V,x),[()=>l("save","Save")]),r(U,V)},$$slots:{default:!0}})}},$$slots:{default:!0}})})}var y=t(Q,2);Qe(y,{variant:"destructive",onclick:_t,children:(o,p)=>{$();var u=f();n(b=>i(u,b),[()=>l("delete","Delete")]),r(o,u)},$$slots:{default:!0}}),d(Z),d(z),r(Se,ze)},$$slots:{default:!0}})}),r(I,Ne)},$$slots:{default:!0}})}),r(H,Oe)},$$slots:{default:!0}})}Lt()}var br=K('<div class="mx-4 flex flex-col gap-4"><!> <!> <!></div>');function Br(rt){var Ye=br(),ne=a(Ye);$r(ne,{});var se=t(ne,2);ar(se,{});var le=t(se,2);yr(le,{}),d(Ye),r(rt,Ye)}export{Br as default};
