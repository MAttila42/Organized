import{f as y,a as l,s as c,c as Le,t as _}from"./BONUUjX4.js";import{p as Se,u as qe,e as u,b as w,g as e,c as i,r as d,a as we,f as B,s as o,t as f,n as h,h as p}from"./BruXBgQu.js";import{i as Ie}from"./BKJo60Al.js";import{c as x}from"./DIV_Juqf.js";import{S as Re}from"./D_F14Qpv.js";import{D as Ae,a as Ne,b as ke,c as Be,L as K,I as z,B as Ke,R as ze}from"./CNsZg0dJ.js";import{t as s}from"./BmK2dJuU.js";import{c as je,a as Ce,s as T}from"./DDKh-MSL.js";import{L as Fe}from"./CorsPudY.js";import{D as Me}from"./BgXA70gP.js";var Oe=y('<div class="mt-1 flex flex-row items-center gap-3 b-3 rounded-md b-dashed p-3 text-muted"><div class="i-fluent:cart-16-filled size-5"></div> <div> </div></div>'),Qe=y('<div class="flex flex-row items-center justify-center gap-1 b-3 rounded-md b-dashed p-2 text-muted"><div class="i-fluent:add-12-filled size-5"></div> <div> </div></div>'),Ue=y('<!> <div class="w-full flex flex-col gap-4"><div class="flex flex-col gap-2"><!> <!></div> <div class="grid grid-cols-2 gap-3"><div class="flex flex-col gap-2"><!> <!></div> <div class="flex flex-col gap-2"><!> <!></div></div> <div class="flex flex-col gap-2"><!> <!></div> <!></div>',1),Ye=y("<!> <!>",1),Ee=y("<!> <!>",1),Ge=y('<div class="mx-4 flex flex-col gap-4"><!></div>');function lt(de,ne){Se(ne,!0);let b=w(""),I=w(""),P=w(""),D=w(""),R=w(!1);const j=p(()=>!!e(b).trim()),ue=Ce("shopping","add-item");qe(je(ue,()=>e(R),m=>{u(R,m,!0)}));async function pe(){if(!e(j))return;const m=Number(e(I)),F={name:e(b).trim(),quantity:Number.isFinite(m)&&!Number.isNaN(m)?m:null,unit:e(P).trim()?e(P).trim():null,description:e(D).trim()?e(D).trim():null};await T.addItem(F),u(b,""),u(I,""),u(P,""),u(D,"")}var C=Ge(),ve=i(C);{let m=p(()=>s("shopping.title","Shopping List")),F=p(()=>s("shopping.description","Keep track of items to buy."));Re(ve,{get title(){return e(m)},get description(){return e(F)},class:"flex flex-col gap-3",children:(ce,Je)=>{var V=Ee(),W=B(V);{var fe=v=>{var L=Oe(),g=o(i(L),2),X=i(g,!0);d(g),d(L),f(A=>c(X,A),[()=>s("shopping.empty","Your list is empty. Add your first item.")]),l(v,L)},me=v=>{Fe(v,{get items(){return T.items},variant:"default"})};Ie(W,v=>{T.items.length===0?v(fe):v(me,!1)})}var ge=o(W,2);x(ge,()=>ze,(v,L)=>{L(v,{get open(){return e(R)},set open(g){u(R,g,!0)},children:(g,X)=>{var A=Ye(),Z=B(A);x(Z,()=>Ae,(M,O)=>{O(M,{class:"w-full",children:(Q,_e)=>{var $=Qe(),S=o(i($),2),N=i(S,!0);d(S),d($),f(q=>c(N,q),[()=>s("shopping.add.trigger","Add Item")]),l(Q,$)},$$slots:{default:!0}})});var $e=o(Z,2);x($e,()=>Ne,(M,O)=>{O(M,{children:(Q,_e)=>{var $=Ue(),S=B($);x(S,()=>ke,(t,r)=>{r(t,{children:(a,n)=>{var G=Le(),H=B(G);x(H,()=>Be,(J,le)=>{le(J,{children:(k,oe)=>{h();var ie=_();f(De=>c(ie,De),[()=>s("shopping.add.title","Add Item")]),l(k,ie)},$$slots:{default:!0}})}),l(a,G)},$$slots:{default:!0}})});var N=o(S,2),q=i(N),ee=i(q);K(ee,{for:"name",children:(t,r)=>{h();var a=_();f(n=>c(a,n),[()=>s("shopping.add.nameLabel","Name")]),l(t,a)},$$slots:{default:!0}});var he=o(ee,2);{let t=p(()=>s("shopping.add.namePlaceholder","Milk"));z(he,{id:"name",type:"text",get placeholder(){return e(t)},get value(){return e(b)},set value(r){u(b,r,!0)}})}d(q);var U=o(q,2),Y=i(U),te=i(Y);K(te,{for:"qty",children:(t,r)=>{h();var a=_();f(n=>c(a,n),[()=>s("shopping.add.quantityLabel","Quantity")]),l(t,a)},$$slots:{default:!0}});var xe=o(te,2);{let t=p(()=>s("shopping.add.quantityPlaceholder","2"));z(xe,{id:"qty",type:"number",inputmode:"numeric",get placeholder(){return e(t)},get value(){return e(I)},set value(r){u(I,r,!0)}})}d(Y);var re=o(Y,2),ae=i(re);K(ae,{for:"unit",children:(t,r)=>{h();var a=_();f(n=>c(a,n),[()=>s("shopping.add.unitLabel","Unit")]),l(t,a)},$$slots:{default:!0}});var ye=o(ae,2);{let t=p(()=>s("shopping.add.unitPlaceholder","pcs, l, kg"));z(ye,{id:"unit",type:"text",get placeholder(){return e(t)},get value(){return e(P)},set value(r){u(P,r,!0)}})}d(re),d(U);var E=o(U,2),se=i(E);K(se,{for:"desc",children:(t,r)=>{h();var a=_();f(n=>c(a,n),[()=>s("description","Description")]),l(t,a)},$$slots:{default:!0}});var be=o(se,2);{let t=p(()=>s("shopping.add.descriptionPlaceholder","Brand or notes (optional)"));z(be,{id:"desc",type:"text",get placeholder(){return e(t)},get value(){return e(D)},set value(r){u(D,r,!0)}})}d(E);var Pe=o(E,2);{let t=p(()=>!e(j));x(Pe,()=>Me,(r,a)=>{a(r,{get disabled(){return e(t)},class:"w-full",children:(n,G)=>{{let H=p(()=>!e(j));Ke(n,{class:"w-full",get disabled(){return e(H)},onclick:pe,children:(J,le)=>{h();var k=_();f(oe=>c(k,oe),[()=>s("add","Add")]),l(J,k)},$$slots:{default:!0}})}},$$slots:{default:!0}})})}d(N),l(Q,$)},$$slots:{default:!0}})}),l(g,A)},$$slots:{default:!0}})}),l(ce,V)},$$slots:{default:!0}})}d(C),l(de,C),we()}export{lt as default};
